// JBoss RedHat (c)
!function(a){a.color={},a.color.make=function(b,c,d,e){var f={};return f.r=b||0,f.g=c||0,f.b=d||0,f.a=null!=e?e:1,f.add=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]+=b;return f.normalize()},f.scale=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]*=b;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function a(a,b,c){return a>b?a:b>c?c:b}return f.r=a(0,parseInt(f.r),255),f.g=a(0,parseInt(f.g),255),f.b=a(0,parseInt(f.b),255),f.a=a(0,f.a,1),f},f.clone=function(){return a.color.make(f.r,f.b,f.g,f.a)},f.normalize()},a.color.extract=function(b,c){var d;do{if(d=b.css(c).toLowerCase(),""!=d&&"transparent"!=d)break;b=b.parent()}while(!a.nodeName(b.get(0),"body"));return"rgba(0, 0, 0, 0)"==d&&(d="transparent"),a.color.parse(d)},a.color.parse=function(c){var d,e=a.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return e(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return e(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));var f=a.trim(c).toLowerCase();return"transparent"==f?e(255,255,255,0):(d=b[f]||[0,0,0],e(d[0],d[1],d[2]))};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(a){function b(b,c){var d=c.children("."+b)[0];if(null==d&&(d=document.createElement("canvas"),d.className=b,a(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!d.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");d=window.G_vmlCanvasManager.initElement(d)}this.element=d;var e=this.context=d.getContext("2d"),f=window.devicePixelRatio||1,g=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=f/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={}}function c(c,e,f,g){function h(a,b){b=[qb].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function i(){for(var c={Canvas:b},d=0;d<g.length;++d){var e=g[d];e.init(qb,c),e.options&&a.extend(!0,eb,e.options)}}function j(b){a.extend(!0,eb,b),null==eb.xaxis.color&&(eb.xaxis.color=a.color.parse(eb.grid.color).scale("a",.22).toString()),null==eb.yaxis.color&&(eb.yaxis.color=a.color.parse(eb.grid.color).scale("a",.22).toString()),null==eb.xaxis.tickColor&&(eb.xaxis.tickColor=eb.grid.tickColor||eb.xaxis.color),null==eb.yaxis.tickColor&&(eb.yaxis.tickColor=eb.grid.tickColor||eb.yaxis.color),null==eb.grid.borderColor&&(eb.grid.borderColor=eb.grid.color),null==eb.grid.tickColor&&(eb.grid.tickColor=a.color.parse(eb.grid.color).scale("a",.22).toString());var d,e,f,g={style:c.css("font-style"),size:Math.round(.8*(+c.css("font-size").replace("px","")||13)),variant:c.css("font-variant"),weight:c.css("font-weight"),family:c.css("font-family")};for(g.lineHeight=1.15*g.size,f=eb.xaxes.length||1,d=0;f>d;++d)e=eb.xaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},eb.xaxis,e),eb.xaxes[d]=e,e.font&&(e.font=a.extend({},g,e.font),e.font.color||(e.font.color=e.color));for(f=eb.yaxes.length||1,d=0;f>d;++d)e=eb.yaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},eb.yaxis,e),eb.yaxes[d]=e,e.font&&(e.font=a.extend({},g,e.font),e.font.color||(e.font.color=e.color));for(eb.xaxis.noTicks&&null==eb.xaxis.ticks&&(eb.xaxis.ticks=eb.xaxis.noTicks),eb.yaxis.noTicks&&null==eb.yaxis.ticks&&(eb.yaxis.ticks=eb.yaxis.noTicks),eb.x2axis&&(eb.xaxes[1]=a.extend(!0,{},eb.xaxis,eb.x2axis),eb.xaxes[1].position="top"),eb.y2axis&&(eb.yaxes[1]=a.extend(!0,{},eb.yaxis,eb.y2axis),eb.yaxes[1].position="right"),eb.grid.coloredAreas&&(eb.grid.markings=eb.grid.coloredAreas),eb.grid.coloredAreasColor&&(eb.grid.markingsColor=eb.grid.coloredAreasColor),eb.lines&&a.extend(!0,eb.series.lines,eb.lines),eb.points&&a.extend(!0,eb.series.points,eb.points),eb.bars&&a.extend(!0,eb.series.bars,eb.bars),null!=eb.shadowSize&&(eb.series.shadowSize=eb.shadowSize),null!=eb.highlightColor&&(eb.series.highlightColor=eb.highlightColor),d=0;d<eb.xaxes.length;++d)q(kb,d+1).options=eb.xaxes[d];for(d=0;d<eb.yaxes.length;++d)q(lb,d+1).options=eb.yaxes[d];for(var i in pb)eb.hooks[i]&&eb.hooks[i].length&&(pb[i]=pb[i].concat(eb.hooks[i]));h(pb.processOptions,[eb])}function k(a){db=l(a),r(),s()}function l(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},eb.series);null!=b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function m(a,b){var c=a[b+"axis"];return"object"==typeof c&&(c=c.n),"number"!=typeof c&&(c=1),c}function n(){return a.grep(kb.concat(lb),function(a){return a})}function o(a){var b,c,d={};for(b=0;b<kb.length;++b)c=kb[b],c&&c.used&&(d["x"+c.n]=c.c2p(a.left));for(b=0;b<lb.length;++b)c=lb[b],c&&c.used&&(d["y"+c.n]=c.c2p(a.top));return void 0!==d.x1&&(d.x=d.x1),void 0!==d.y1&&(d.y=d.y1),d}function p(a){var b,c,d,e={};for(b=0;b<kb.length;++b)if(c=kb[b],c&&c.used&&(d="x"+c.n,null==a[d]&&1==c.n&&(d="x"),null!=a[d])){e.left=c.p2c(a[d]);break}for(b=0;b<lb.length;++b)if(c=lb[b],c&&c.used&&(d="y"+c.n,null==a[d]&&1==c.n&&(d="y"),null!=a[d])){e.top=c.p2c(a[d]);break}return e}function q(b,c){return b[c-1]||(b[c-1]={n:c,direction:b==kb?"x":"y",options:a.extend(!0,{},b==kb?eb.xaxis:eb.yaxis)}),b[c-1]}function r(){var b,c=db.length,d=-1;for(b=0;b<db.length;++b){var e=db[b].color;null!=e&&(c--,"number"==typeof e&&e>d&&(d=e))}d>=c&&(c=d+1);var f,g=[],h=eb.colors,i=h.length,j=0;for(b=0;c>b;b++)f=a.color.parse(h[b%i]||"#666"),0==b%i&&b&&(j=j>=0?.5>j?-j-.2:0:-j),g[b]=f.scale("rgb",1+j);var k,l=0;for(b=0;b<db.length;++b){if(k=db[b],null==k.color?(k.color=g[l].toString(),++l):"number"==typeof k.color&&(k.color=g[k.color].toString()),null==k.lines.show){var n,o=!0;for(n in k)if(k[n]&&k[n].show){o=!1;break}o&&(k.lines.show=!0)}null==k.lines.zero&&(k.lines.zero=!!k.lines.fill),k.xaxis=q(kb,m(k,"x")),k.yaxis=q(lb,m(k,"y"))}}function s(){function b(a,b,c){b<a.datamin&&b!=-s&&(a.datamin=b),c>a.datamax&&c!=s&&(a.datamax=c)}var c,d,e,f,g,i,j,k,l,m,o,p,q=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=Number.MAX_VALUE;for(a.each(n(),function(a,b){b.datamin=q,b.datamax=r,b.used=!1}),c=0;c<db.length;++c)g=db[c],g.datapoints={points:[]},h(pb.processRawData,[g,g.data,g.datapoints]);for(c=0;c<db.length;++c){if(g=db[c],o=g.data,p=g.datapoints.format,!p){if(p=[],p.push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),g.bars.show||g.lines.show&&g.lines.fill){var t=!!(g.bars.show&&g.bars.zero||g.lines.show&&g.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:t}),g.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}g.datapoints.format=p}if(null==g.datapoints.pointsize){g.datapoints.pointsize=p.length,j=g.datapoints.pointsize,i=g.datapoints.points;var u=g.lines.show&&g.lines.steps;for(g.xaxis.used=g.yaxis.used=!0,d=e=0;d<o.length;++d,e+=j){m=o[d];var v=null==m;if(!v)for(f=0;j>f;++f)k=m[f],l=p[f],l&&(l.number&&null!=k&&(k=+k,isNaN(k)?k=null:1/0==k?k=s:k==-1/0&&(k=-s)),null==k&&(l.required&&(v=!0),null!=l.defaultValue&&(k=l.defaultValue))),i[e+f]=k;if(v)for(f=0;j>f;++f)k=i[e+f],null!=k&&(l=p[f],l.x&&b(g.xaxis,k,k),l.y&&b(g.yaxis,k,k)),i[e+f]=null;else if(u&&e>0&&null!=i[e-j]&&i[e-j]!=i[e]&&i[e-j+1]!=i[e+1]){for(f=0;j>f;++f)i[e+j+f]=i[e+f];i[e+1]=i[e-j+1],e+=j}}}}for(c=0;c<db.length;++c)g=db[c],h(pb.processDatapoints,[g,g.datapoints]);for(c=0;c<db.length;++c){g=db[c],i=g.datapoints.points,j=g.datapoints.pointsize,p=g.datapoints.format;var w=q,x=q,y=r,z=r;for(d=0;d<i.length;d+=j)if(null!=i[d])for(f=0;j>f;++f)k=i[d+f],l=p[f],l&&l.autoscale!==!1&&k!=s&&k!=-s&&(l.x&&(w>k&&(w=k),k>y&&(y=k)),l.y&&(x>k&&(x=k),k>z&&(z=k)));if(g.bars.show){var A;switch(g.bars.align){case"left":A=0;break;case"right":A=-g.bars.barWidth;break;case"center":A=-g.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+g.bars.align)}g.bars.horizontal?(x+=A,z+=A+g.bars.barWidth):(w+=A,y+=A+g.bars.barWidth)}b(g.xaxis,w,y),b(g.yaxis,x,z)}a.each(n(),function(a,b){b.datamin==q&&(b.datamin=null),b.datamax==r&&(b.datamax=null)})}function t(){c.css("padding",0).children(":not(.flot-base,.flot-overlay)").remove(),"static"==c.css("position")&&c.css("position","relative"),fb=new b("flot-base",c),gb=new b("flot-overlay",c),ib=fb.context,jb=gb.context,hb=a(gb.element).unbind();var d=c.data("plot");d&&(d.shutdown(),gb.clear()),c.data("plot",qb)}function u(){eb.grid.hoverable&&(hb.mousemove(T),hb.bind("mouseleave",U)),eb.grid.clickable&&hb.click(V),h(pb.bindEvents,[hb])}function v(){sb&&clearTimeout(sb),hb.unbind("mousemove",T),hb.unbind("mouseleave",U),hb.unbind("click",V),h(pb.shutdown,[hb])}function w(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=nb/Math.abs(e(a.max)-e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=ob/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min))),a.p2c=e==b?function(a){return(a-d)*c}:function(a){return(e(a)-d)*c},a.c2p=f?function(a){return f(d+a/c)}:function(a){return d+a/c}}function x(a){for(var b=a.options,c=a.ticks||[],d=b.labelWidth||0,e=b.labelHeight||0,f=a.direction+"Axis "+a.direction+a.n+"Axis",g="flot-"+a.direction+"-axis flot-"+a.direction+a.n+"-axis "+f,h=b.font||"flot-tick-label tickLabel",i=0;i<c.length;++i){var j=c[i];if(j.label){var k=fb.getTextInfo(g,j.label,h);null==b.labelWidth&&(d=Math.max(d,k.width)),null==b.labelHeight&&(e=Math.max(e,k.height))}}a.labelWidth=Math.ceil(d),a.labelHeight=Math.ceil(e)}function y(b){var c,d=b.labelWidth,e=b.labelHeight,f=b.options.position,g=b.options.tickLength,h=eb.grid.axisMargin,i=eb.grid.labelMargin,j="x"==b.direction?kb:lb,k=a.grep(j,function(a){return a&&a.options.position==f&&a.reserveSpace});if(a.inArray(b,k)==k.length-1&&(h=0),null==g){var l=a.grep(j,function(a){return a&&a.reserveSpace});c=0==a.inArray(b,l),g=c?"full":5}isNaN(+g)||(i+=+g),"x"==b.direction?(e+=i,"bottom"==f?(mb.bottom+=e+h,b.box={top:fb.height-mb.bottom,height:e}):(b.box={top:mb.top+h,height:e},mb.top+=e+h)):(d+=i,"left"==f?(b.box={left:mb.left+h,width:d},mb.left+=d+h):(mb.right+=d+h,b.box={left:fb.width-mb.right,width:d})),b.position=f,b.tickLength=g,b.box.padding=i,b.innermost=c}function z(a){"x"==a.direction?(a.box.left=mb.left-a.labelWidth/2,a.box.width=fb.width-mb.left-mb.right+a.labelWidth):(a.box.top=mb.top-a.labelHeight/2,a.box.height=fb.height-mb.bottom-mb.top+a.labelHeight)}function A(){var b,c=eb.grid.minBorderMargin,d={x:0,y:0};if(null==c)for(c=0,b=0;b<db.length;++b)c=Math.max(c,2*(db[b].points.radius+db[b].points.lineWidth/2));d.x=d.y=Math.ceil(c),a.each(n(),function(a,b){var c=b.direction;b.reserveSpace&&(d[c]=Math.ceil(Math.max(d[c],("x"==c?b.labelWidth:b.labelHeight)/2)))}),mb.left=Math.max(d.x,mb.left),mb.right=Math.max(d.x,mb.right),mb.top=Math.max(d.y,mb.top),mb.bottom=Math.max(d.y,mb.bottom)}function B(){var b,c=n(),d=eb.grid.show;for(var e in mb){var f=eb.grid.margin||0;mb[e]="number"==typeof f?f:f[e]||0}h(pb.processOffset,[mb]);for(var e in mb)mb[e]+="object"==typeof eb.grid.borderWidth?d?eb.grid.borderWidth[e]:0:d?eb.grid.borderWidth:0;if(a.each(c,function(a,b){b.show=b.options.show,null==b.show&&(b.show=b.used),b.reserveSpace=b.show||b.options.reserveSpace,C(b)}),d){var g=a.grep(c,function(a){return a.reserveSpace});for(a.each(g,function(a,b){D(b),E(b),F(b,b.ticks),x(b)}),b=g.length-1;b>=0;--b)y(g[b]);A(),a.each(g,function(a,b){z(b)})}nb=fb.width-mb.left-mb.right,ob=fb.height-mb.bottom-mb.top,a.each(c,function(a,b){w(b)}),d&&K(),R()}function C(a){var b=a.options,c=+(null!=b.min?b.min:a.datamin),d=+(null!=b.max?b.max:a.datamax),e=d-c;if(0==e){var f=0==d?1:.01;null==b.min&&(c-=f),(null==b.max||null!=b.min)&&(d+=f)}else{var g=b.autoscaleMargin;null!=g&&(null==b.min&&(c-=e*g,0>c&&null!=a.datamin&&a.datamin>=0&&(c=0)),null==b.max&&(d+=e*g,d>0&&null!=a.datamax&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function D(b){var c,e=b.options;c="number"==typeof e.ticks&&e.ticks>0?e.ticks:.3*Math.sqrt("x"==b.direction?fb.width:fb.height);var f=(b.max-b.min)/c,g=-Math.floor(Math.log(f)/Math.LN10),h=e.tickDecimals;null!=h&&g>h&&(g=h);var i,j=Math.pow(10,-g),k=f/j;if(1.5>k?i=1:3>k?(i=2,k>2.25&&(null==h||h>=g+1)&&(i=2.5,++g)):i=7.5>k?5:10,i*=j,null!=e.minTickSize&&i<e.minTickSize&&(i=e.minTickSize),b.delta=f,b.tickDecimals=Math.max(0,null!=h?h:g),b.tickSize=e.tickSize||i,"time"==e.mode&&!b.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(b.tickGenerator||(b.tickGenerator=function(a){var b,c=[],e=d(a.min,a.tickSize),f=0,g=Number.NaN;do b=g,g=e+f*a.tickSize,c.push(g),++f;while(g<a.max&&g!=b);return c},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),f=-1==e?0:d.length-e-1;if(f<b.tickDecimals)return(f?d:d+".")+(""+c).substr(1,b.tickDecimals-f)}return d}),a.isFunction(e.tickFormatter)&&(b.tickFormatter=function(a,b){return""+e.tickFormatter(a,b)}),null!=e.alignTicksWithAxis){var l=("x"==b.direction?kb:lb)[e.alignTicksWithAxis-1];if(l&&l.used&&l!=b){var m=b.tickGenerator(b);if(m.length>0&&(null==e.min&&(b.min=Math.min(b.min,m[0])),null==e.max&&m.length>1&&(b.max=Math.max(b.max,m[m.length-1]))),b.tickGenerator=function(a){var b,c,d=[];for(c=0;c<l.ticks.length;++c)b=(l.ticks[c].v-l.min)/(l.max-l.min),b=a.min+b*(a.max-a.min),d.push(b);return d},!b.mode&&null==e.tickDecimals){var n=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+1),o=b.tickGenerator(b);o.length>1&&/\..*0$/.test((o[1]-o[0]).toFixed(n))||(b.tickDecimals=n)}}}}function E(b){var c=b.options.ticks,d=[];null==c||"number"==typeof c&&c>0?d=b.tickGenerator(b):c&&(d=a.isFunction(c)?c(b):c);var e,f;for(b.ticks=[],e=0;e<d.length;++e){var g=null,h=d[e];"object"==typeof h?(f=+h[0],h.length>1&&(g=h[1])):f=+h,null==g&&(g=b.tickFormatter(f,b)),isNaN(f)||b.ticks.push({v:f,label:g})}}function F(a,b){a.options.autoscaleMargin&&b.length>0&&(null==a.options.min&&(a.min=Math.min(a.min,b[0].v)),null==a.options.max&&b.length>1&&(a.max=Math.max(a.max,b[b.length-1].v)))}function G(){fb.clear(),h(pb.drawBackground,[ib]);var a=eb.grid;a.show&&a.backgroundColor&&I(),a.show&&!a.aboveData&&J();for(var b=0;b<db.length;++b)h(pb.drawSeries,[ib,db[b]]),L(db[b]);h(pb.draw,[ib]),a.show&&a.aboveData&&J(),fb.render()}function H(a,b){for(var c,d,e,f,g=n(),h=0;h<g.length;++h)if(c=g[h],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from,e=a[f].to;break}if(a[f]||(c="x"==b?kb[0]:lb[0],d=a[b+"1"],e=a[b+"2"]),null!=d&&null!=e&&d>e){var i=d;d=e,e=i}return{from:d,to:e,axis:c}}function I(){ib.save(),ib.translate(mb.left,mb.top),ib.fillStyle=cb(eb.grid.backgroundColor,ob,0,"rgba(255, 255, 255, 0)"),ib.fillRect(0,0,nb,ob),ib.restore()}function J(){var b,c,d,e;ib.save(),ib.translate(mb.left,mb.top);var f=eb.grid.markings;if(f)for(a.isFunction(f)&&(c=qb.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,f=f(c)),b=0;b<f.length;++b){var g=f[b],h=H(g,"x"),i=H(g,"y");null==h.from&&(h.from=h.axis.min),null==h.to&&(h.to=h.axis.max),null==i.from&&(i.from=i.axis.min),null==i.to&&(i.to=i.axis.max),h.to<h.axis.min||h.from>h.axis.max||i.to<i.axis.min||i.from>i.axis.max||(h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max),(h.from!=h.to||i.from!=i.to)&&(h.from=h.axis.p2c(h.from),h.to=h.axis.p2c(h.to),i.from=i.axis.p2c(i.from),i.to=i.axis.p2c(i.to),h.from==h.to||i.from==i.to?(ib.beginPath(),ib.strokeStyle=g.color||eb.grid.markingsColor,ib.lineWidth=g.lineWidth||eb.grid.markingsLineWidth,ib.moveTo(h.from,i.from),ib.lineTo(h.to,i.to),ib.stroke()):(ib.fillStyle=g.color||eb.grid.markingsColor,ib.fillRect(h.from,i.to,h.to-h.from,i.from-i.to))))}c=n(),d=eb.grid.borderWidth;for(var j=0;j<c.length;++j){var k,l,m,o,p=c[j],q=p.box,r=p.tickLength;if(p.show&&0!=p.ticks.length){for(ib.lineWidth=1,"x"==p.direction?(k=0,l="full"==r?"top"==p.position?0:ob:q.top-mb.top+("top"==p.position?q.height:0)):(l=0,k="full"==r?"left"==p.position?0:nb:q.left-mb.left+("left"==p.position?q.width:0)),p.innermost||(ib.strokeStyle=p.options.color,ib.beginPath(),m=o=0,"x"==p.direction?m=nb+1:o=ob+1,1==ib.lineWidth&&("x"==p.direction?l=Math.floor(l)+.5:k=Math.floor(k)+.5),ib.moveTo(k,l),ib.lineTo(k+m,l+o),ib.stroke()),ib.strokeStyle=p.options.tickColor,ib.beginPath(),b=0;b<p.ticks.length;++b){var s=p.ticks[b].v;m=o=0,isNaN(s)||s<p.min||s>p.max||"full"==r&&("object"==typeof d&&d[p.position]>0||d>0)&&(s==p.min||s==p.max)||("x"==p.direction?(k=p.p2c(s),o="full"==r?-ob:r,"top"==p.position&&(o=-o)):(l=p.p2c(s),m="full"==r?-nb:r,"left"==p.position&&(m=-m)),1==ib.lineWidth&&("x"==p.direction?k=Math.floor(k)+.5:l=Math.floor(l)+.5),ib.moveTo(k,l),ib.lineTo(k+m,l+o))}ib.stroke()}}d&&(e=eb.grid.borderColor,"object"==typeof d||"object"==typeof e?("object"!=typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),d.top>0&&(ib.strokeStyle=e.top,ib.lineWidth=d.top,ib.beginPath(),ib.moveTo(0-d.left,0-d.top/2),ib.lineTo(nb,0-d.top/2),ib.stroke()),d.right>0&&(ib.strokeStyle=e.right,ib.lineWidth=d.right,ib.beginPath(),ib.moveTo(nb+d.right/2,0-d.top),ib.lineTo(nb+d.right/2,ob),ib.stroke()),d.bottom>0&&(ib.strokeStyle=e.bottom,ib.lineWidth=d.bottom,ib.beginPath(),ib.moveTo(nb+d.right,ob+d.bottom/2),ib.lineTo(0,ob+d.bottom/2),ib.stroke()),d.left>0&&(ib.strokeStyle=e.left,ib.lineWidth=d.left,ib.beginPath(),ib.moveTo(0-d.left/2,ob+d.bottom),ib.lineTo(0-d.left/2,0),ib.stroke())):(ib.lineWidth=d,ib.strokeStyle=eb.grid.borderColor,ib.strokeRect(-d/2,-d/2,nb+d,ob+d))),ib.restore()}function K(){a.each(n(),function(a,b){if(b.show&&0!=b.ticks.length){var c,d,e,f,g,h=b.box,i=b.direction+"Axis "+b.direction+b.n+"Axis",j="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+i,k=b.options.font||"flot-tick-label tickLabel";fb.removeText(j);for(var l=0;l<b.ticks.length;++l)c=b.ticks[l],!c.label||c.v<b.min||c.v>b.max||("x"==b.direction?(f="center",d=mb.left+b.p2c(c.v),"bottom"==b.position?e=h.top+h.padding:(e=h.top+h.height-h.padding,g="bottom")):(g="middle",e=mb.top+b.p2c(c.v),"left"==b.position?(d=h.left+h.width-h.padding,f="right"):d=h.left+h.padding),fb.addText(j,d,e,c.label,k,null,f,g))}})}function L(a){a.lines.show&&M(a),a.bars.show&&P(a),a.points.show&&N(a)}function M(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;ib.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],m=f[j],n=f[j+1];if(null!=k&&null!=m){if(n>=l&&l<e.min){if(n<e.min)continue;k=(e.min-l)/(n-l)*(m-k)+k,l=e.min}else if(l>=n&&n<e.min){if(l<e.min)continue;m=(e.min-l)/(n-l)*(m-k)+k,n=e.min}if(l>=n&&l>e.max){if(n>e.max)continue;k=(e.max-l)/(n-l)*(m-k)+k,l=e.max}else if(n>=l&&n>e.max){if(l>e.max)continue;m=(e.max-l)/(n-l)*(m-k)+k,n=e.max}if(m>=k&&k<d.min){if(m<d.min)continue;l=(d.min-k)/(m-k)*(n-l)+l,k=d.min}else if(k>=m&&m<d.min){if(k<d.min)continue;n=(d.min-k)/(m-k)*(n-l)+l,m=d.min}if(k>=m&&k>d.max){if(m>d.max)continue;l=(d.max-k)/(m-k)*(n-l)+l,k=d.max}else if(m>=k&&m>d.max){if(k>d.max)continue;n=(d.max-k)/(m-k)*(n-l)+l,m=d.max}(k!=h||l!=i)&&ib.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=m,i=n,ib.lineTo(d.p2c(m)+b,e.p2c(n)+c)}}ib.stroke()}function c(a,b,c){for(var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g=0,h=!1,i=1,j=0,k=0;;){if(e>0&&g>d.length+e)break;g+=e;var l=d[g-e],m=d[g-e+i],n=d[g],o=d[g+i];if(h){if(e>0&&null!=l&&null==n){k=g,e=-e,i=2;continue}if(0>e&&g==j+e){ib.fill(),h=!1,e=-e,i=1,g=j=k+e;continue}}if(null!=l&&null!=n){if(n>=l&&l<b.min){if(n<b.min)continue;m=(b.min-l)/(n-l)*(o-m)+m,l=b.min}else if(l>=n&&n<b.min){if(l<b.min)continue;o=(b.min-l)/(n-l)*(o-m)+m,n=b.min}if(l>=n&&l>b.max){if(n>b.max)continue;m=(b.max-l)/(n-l)*(o-m)+m,l=b.max}else if(n>=l&&n>b.max){if(l>b.max)continue;o=(b.max-l)/(n-l)*(o-m)+m,n=b.max}if(h||(ib.beginPath(),ib.moveTo(b.p2c(l),c.p2c(f)),h=!0),m>=c.max&&o>=c.max)ib.lineTo(b.p2c(l),c.p2c(c.max)),ib.lineTo(b.p2c(n),c.p2c(c.max));else if(m<=c.min&&o<=c.min)ib.lineTo(b.p2c(l),c.p2c(c.min)),ib.lineTo(b.p2c(n),c.p2c(c.min));else{var p=l,q=n;o>=m&&m<c.min&&o>=c.min?(l=(c.min-m)/(o-m)*(n-l)+l,m=c.min):m>=o&&o<c.min&&m>=c.min&&(n=(c.min-m)/(o-m)*(n-l)+l,o=c.min),m>=o&&m>c.max&&o<=c.max?(l=(c.max-m)/(o-m)*(n-l)+l,m=c.max):o>=m&&o>c.max&&m<=c.max&&(n=(c.max-m)/(o-m)*(n-l)+l,o=c.max),l!=p&&ib.lineTo(b.p2c(p),c.p2c(m)),ib.lineTo(b.p2c(l),c.p2c(m)),ib.lineTo(b.p2c(n),c.p2c(o)),n!=q&&(ib.lineTo(b.p2c(n),c.p2c(o)),ib.lineTo(b.p2c(q),c.p2c(o)))}}}}ib.save(),ib.translate(mb.left,mb.top),ib.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){ib.lineWidth=e,ib.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),ib.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}ib.lineWidth=d,ib.strokeStyle=a.color;var g=Q(a.lines,a.color,0,ob);g&&(ib.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),ib.restore()}function N(a){function b(a,b,c,d,e,f,g,h){for(var i=a.points,j=a.pointsize,k=0;k<i.length;k+=j){var l=i[k],m=i[k+1];null==l||l<f.min||l>f.max||m<g.min||m>g.max||(ib.beginPath(),l=f.p2c(l),m=g.p2c(m)+d,"circle"==h?ib.arc(l,m,b,0,e?Math.PI:2*Math.PI,!1):h(ib,l,m,b,e),ib.closePath(),c&&(ib.fillStyle=c,ib.fill()),ib.stroke())}}ib.save(),ib.translate(mb.left,mb.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;if(0==c&&(c=1e-4),c>0&&d>0){var g=d/2;ib.lineWidth=g,ib.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,g+g/2,!0,a.xaxis,a.yaxis,f),ib.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,g/2,!0,a.xaxis,a.yaxis,f)}ib.lineWidth=c,ib.strokeStyle=a.color,b(a.datapoints,e,Q(a.points,a.color),0,!1,a.xaxis,a.yaxis,f),ib.restore()}function O(a,b,c,d,e,f,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u;k?(t=r=s=!0,q=!1,m=c,n=a,p=b+d,o=b+e,m>n&&(u=n,n=m,m=u,q=!0,r=!1)):(q=r=s=!0,t=!1,m=a+d,n=a+e,o=c,p=b,o>p&&(u=p,p=o,o=u,t=!0,s=!1)),n<h.min||m>h.max||p<i.min||o>i.max||(m<h.min&&(m=h.min,q=!1),n>h.max&&(n=h.max,r=!1),o<i.min&&(o=i.min,t=!1),p>i.max&&(p=i.max,s=!1),m=h.p2c(m),o=i.p2c(o),n=h.p2c(n),p=i.p2c(p),g&&(j.beginPath(),j.moveTo(m,o),j.lineTo(m,p),j.lineTo(n,p),j.lineTo(n,o),j.fillStyle=g(o,p),j.fill()),l>0&&(q||r||s||t)&&(j.beginPath(),j.moveTo(m,o+f),q?j.lineTo(m,p+f):j.moveTo(m,p+f),s?j.lineTo(n,p+f):j.moveTo(n,p+f),r?j.lineTo(n,o+f):j.moveTo(n,o+f),t?j.lineTo(m,o+f):j.moveTo(m,o+f),j.stroke()))}function P(a){function b(b,c,d,e,f,g,h){for(var i=b.points,j=b.pointsize,k=0;k<i.length;k+=j)null!=i[k]&&O(i[k],i[k+1],i[k+2],c,d,e,f,g,h,ib,a.bars.horizontal,a.bars.lineWidth)}ib.save(),ib.translate(mb.left,mb.top),ib.lineWidth=a.bars.lineWidth,ib.strokeStyle=a.color;var c;switch(a.bars.align){case"left":c=0;break;case"right":c=-a.bars.barWidth;break;case"center":c=-a.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+a.bars.align)}var d=a.bars.fill?function(b,c){return Q(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,0,d,a.xaxis,a.yaxis),ib.restore()}function Q(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return cb(b.fillColor,d,e,c);var g=a.color.parse(c);return g.a="number"==typeof f?f:.4,g.normalize(),g.toString()}function R(){if(c.find(".legend").remove(),eb.legend.show){for(var b,d,e=[],f=[],g=!1,h=eb.legend.labelFormatter,i=0;i<db.length;++i)b=db[i],b.label&&(d=h?h(b.label,b):b.label,d&&f.push({label:d,color:b.color}));if(eb.legend.sorted)if(a.isFunction(eb.legend.sorted))f.sort(eb.legend.sorted);else if("reverse"==eb.legend.sorted)f.reverse();else{var j="descending"!=eb.legend.sorted;f.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=j?1:-1})}for(var i=0;i<f.length;++i){var k=f[i];0==i%eb.legend.noColumns&&(g&&e.push("</tr>"),e.push("<tr>"),g=!0),e.push('<td class="legendColorBox"><div style="border:1px solid '+eb.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+k.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+k.label+"</td>")}if(g&&e.push("</tr>"),0!=e.length){var l='<table style="font-size:smaller;color:'+eb.grid.color+'">'+e.join("")+"</table>";if(null!=eb.legend.container)a(eb.legend.container).html(l);else{var m="",n=eb.legend.position,o=eb.legend.margin;null==o[0]&&(o=[o,o]),"n"==n.charAt(0)?m+="top:"+(o[1]+mb.top)+"px;":"s"==n.charAt(0)&&(m+="bottom:"+(o[1]+mb.bottom)+"px;"),"e"==n.charAt(1)?m+="right:"+(o[0]+mb.right)+"px;":"w"==n.charAt(1)&&(m+="left:"+(o[0]+mb.left)+"px;");var p=a('<div class="legend">'+l.replace('style="','style="position:absolute;'+m+";")+"</div>").appendTo(c);if(0!=eb.legend.backgroundOpacity){var q=eb.legend.backgroundColor;null==q&&(q=eb.grid.backgroundColor,q=q&&"string"==typeof q?a.color.parse(q):a.color.extract(p,"background-color"),q.a=1,q=q.toString());var r=p.children();a('<div style="position:absolute;width:'+r.width()+"px;height:"+r.height()+"px;"+m+"background-color:"+q+';"> </div>').prependTo(p).css("opacity",eb.legend.backgroundOpacity)}}}}}function S(a,b,c){var d,e,f,g=eb.grid.mouseActiveRadius,h=g*g+1,i=null;for(d=db.length-1;d>=0;--d)if(c(db[d])){var j=db[d],k=j.xaxis,l=j.yaxis,m=j.datapoints.points,n=k.c2p(a),o=l.c2p(b),p=g/k.scale,q=g/l.scale;if(f=j.datapoints.pointsize,k.options.inverseTransform&&(p=Number.MAX_VALUE),l.options.inverseTransform&&(q=Number.MAX_VALUE),j.lines.show||j.points.show)for(e=0;e<m.length;e+=f){var r=m[e],s=m[e+1];if(null!=r&&!(r-n>p||-p>r-n||s-o>q||-q>s-o)){var t=Math.abs(k.p2c(r)-a),u=Math.abs(l.p2c(s)-b),v=t*t+u*u;h>v&&(h=v,i=[d,e/f])}}if(j.bars.show&&!i){var w="left"==j.bars.align?0:-j.bars.barWidth/2,x=w+j.bars.barWidth;for(e=0;e<m.length;e+=f){var r=m[e],s=m[e+1],y=m[e+2];null!=r&&(db[d].bars.horizontal?n<=Math.max(y,r)&&n>=Math.min(y,r)&&o>=s+w&&s+x>=o:n>=r+w&&r+x>=n&&o>=Math.min(y,s)&&o<=Math.max(y,s))&&(i=[d,e/f])}}}return i?(d=i[0],e=i[1],f=db[d].datapoints.pointsize,{datapoint:db[d].datapoints.points.slice(e*f,(e+1)*f),dataIndex:e,series:db[d],seriesIndex:d}):null}function T(a){eb.grid.hoverable&&W("plothover",a,function(a){return 0!=a.hoverable})}function U(a){eb.grid.hoverable&&W("plothover",a,function(){return!1})}function V(a){W("plotclick",a,function(a){return 0!=a.clickable})}function W(a,b,d){var e=hb.offset(),f=b.pageX-e.left-mb.left,g=b.pageY-e.top-mb.top,h=o({left:f,top:g});h.pageX=b.pageX,h.pageY=b.pageY;var i=S(f,g,d);if(i&&(i.pageX=parseInt(i.series.xaxis.p2c(i.datapoint[0])+e.left+mb.left,10),i.pageY=parseInt(i.series.yaxis.p2c(i.datapoint[1])+e.top+mb.top,10)),eb.grid.autoHighlight){for(var j=0;j<rb.length;++j){var k=rb[j];k.auto!=a||i&&k.series==i.series&&k.point[0]==i.datapoint[0]&&k.point[1]==i.datapoint[1]||$(k.series,k.point)}i&&Z(i.series,i.datapoint,a)}c.trigger(a,[h,i])}function X(){var a=eb.interaction.redrawOverlayInterval;return-1==a?(Y(),void 0):(sb||(sb=setTimeout(Y,a)),void 0)}function Y(){sb=null,jb.save(),gb.clear(),jb.translate(mb.left,mb.top);var a,b;for(a=0;a<rb.length;++a)b=rb[a],b.series.bars.show?bb(b.series,b.point):ab(b.series,b.point);jb.restore(),h(pb.drawOverlay,[jb])}function Z(a,b,c){if("number"==typeof a&&(a=db[a]),"number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}var e=_(a,b);-1==e?(rb.push({series:a,point:b,auto:c}),X()):c||(rb[e].auto=!1)}function $(a,b){if(null==a&&null==b)return rb=[],X(),void 0;if("number"==typeof a&&(a=db[a]),"number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}var d=_(a,b);-1!=d&&(rb.splice(d,1),X())}function _(a,b){for(var c=0;c<rb.length;++c){var d=rb[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function ab(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis,h="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString();if(!(d<f.min||d>f.max||e<g.min||e>g.max)){var i=b.points.radius+b.points.lineWidth/2;jb.lineWidth=i,jb.strokeStyle=h;var j=1.5*i;d=f.p2c(d),e=g.p2c(e),jb.beginPath(),"circle"==b.points.symbol?jb.arc(d,e,j,0,2*Math.PI,!1):b.points.symbol(jb,d,e,j,!1),jb.closePath(),jb.stroke()}}function bb(b,c){var d="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),e=d,f="left"==b.bars.align?0:-b.bars.barWidth/2;jb.lineWidth=b.bars.lineWidth,jb.strokeStyle=d,O(c[0],c[1],c[2]||0,f,f+b.bars.barWidth,0,function(){return e},b.xaxis,b.yaxis,jb,b.bars.horizontal,b.bars.lineWidth)}function cb(b,c,d,e){if("string"==typeof b)return b;for(var f=ib.createLinearGradient(0,d,0,c),g=0,h=b.colors.length;h>g;++g){var i=b.colors[g];if("string"!=typeof i){var j=a.color.parse(e);null!=i.brightness&&(j=j.scale("rgb",i.brightness)),null!=i.opacity&&(j.a*=i.opacity),i=j.toString()}f.addColorStop(g/(h-1),i)}return f}var db=[],eb={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},fb=null,gb=null,hb=null,ib=null,jb=null,kb=[],lb=[],mb={left:0,right:0,top:0,bottom:0},nb=0,ob=0,pb={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},qb=this;qb.setData=k,qb.setupGrid=B,qb.draw=G,qb.getPlaceholder=function(){return c
},qb.getCanvas=function(){return fb.element},qb.getPlotOffset=function(){return mb},qb.width=function(){return nb},qb.height=function(){return ob},qb.offset=function(){var a=hb.offset();return a.left+=mb.left,a.top+=mb.top,a},qb.getData=function(){return db},qb.getAxes=function(){var b={};return a.each(kb.concat(lb),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)}),b},qb.getXAxes=function(){return kb},qb.getYAxes=function(){return lb},qb.c2p=o,qb.p2c=p,qb.getOptions=function(){return eb},qb.highlight=Z,qb.unhighlight=$,qb.triggerRedrawOverlay=X,qb.pointOffset=function(a){return{left:parseInt(kb[m(a,"x")-1].p2c(+a.x)+mb.left,10),top:parseInt(lb[m(a,"y")-1].p2c(+a.y)+mb.top,10)}},qb.shutdown=v,qb.resize=function(){var a=c.width(),b=c.height();fb.resize(a,b),gb.resize(a,b)},qb.hooks=pb,i(qb),j(f),t(),k(e),B(),G(),u();var rb=[],sb=null}function d(a,b){return b*Math.floor(a/b)}var e=Object.prototype.hasOwnProperty;b.prototype.resize=function(a,b){if(0>=a||0>=b)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+b);var c=this.element,d=this.context,e=this.pixelRatio;this.width!=a&&(c.width=a*e,c.style.width=a+"px",this.width=a),this.height!=b&&(c.height=b*e,c.style.height=b+"px",this.height=b),d.restore(),d.save(),d.scale(e,e)},b.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},b.prototype.render=function(){var a=this._textCache;for(var b in a)if(e.call(a,b)){var c=this.getTextLayer(b),d=a[b];c.hide();for(var f in d)if(e.call(d,f)){var g=d[f];for(var h in g)if(e.call(g,h)){var i=g[h];i.active?i.rendered||(c.append(i.element),i.rendered=!0):(delete g[h],i.rendered&&i.element.detach())}}c.show()}},b.prototype.getTextLayer=function(b){var c=this.text[b];return null==c&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=a("<div></div>").addClass(b).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},b.prototype.getTextInfo=function(b,c,d){var e,f,g,h;if(c=""+c,e="object"==typeof d?d.style+" "+d.variant+" "+d.weight+" "+d.size+"px/"+d.lineHeight+"px "+d.family:d,f=this._textCache[b],null==f&&(f=this._textCache[b]={}),g=f[e],null==g&&(g=f[e]={}),h=g[c],null==h){var i=a("<div></div>").html(c).css({position:"absolute",top:-9999}).appendTo(this.getTextLayer(b));"object"==typeof d?i.css({font:e,color:d.color}):"string"==typeof d&&i.addClass(d),h=g[c]={active:!1,rendered:!1,element:i,width:i.outerWidth(!0),height:i.outerHeight(!0)},i.detach()}return h},b.prototype.addText=function(a,b,c,d,e,f,g,h){var i=this.getTextInfo(a,d,e,f);i.active=!0,"center"==g?b-=i.width/2:"right"==g&&(b-=i.width),"middle"==h?c-=i.height/2:"bottom"==h&&(c-=i.height),i.element.css({top:Math.round(c),left:Math.round(b)})},b.prototype.removeText=function(a,b,c,d){if(null==b){var f=this._textCache[a];if(null!=f)for(var g in f)if(e.call(f,g)){var h=f[g];for(var i in h)e.call(h,i)&&(h[i].active=!1)}}else this.getTextInfo(a,b,c,d).active=!1},a.plot=function(b,d,e){var f=new c(a(b),d,e,a.plot.plugins);return f},a.plot.version="0.8.0",a.plot.plugins=[],a.fn.plot=function(b,c){return this.each(function(){a.plot(this,b,c)})}}(jQuery),function(a){function b(b){function c(a){o.active&&(j(a),b.getPlaceholder().trigger("plotselecting",[f()]))}function d(b){1==b.which&&(document.body.focus(),void 0!==document.onselectstart&&null==p.onselectstart&&(p.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==p.ondrag&&(p.ondrag=document.ondrag,document.ondrag=function(){return!1}),i(o.first,b),o.active=!0,q=function(a){e(a)},a(document).one("mouseup",q))}function e(a){return q=null,void 0!==document.onselectstart&&(document.onselectstart=p.onselectstart),void 0!==document.ondrag&&(document.ondrag=p.ondrag),o.active=!1,j(a),n()?g():(b.getPlaceholder().trigger("plotunselected",[]),b.getPlaceholder().trigger("plotselecting",[null])),!1}function f(){if(!n())return null;if(!o.show)return null;var c={},d=o.first,e=o.second;return a.each(b.getAxes(),function(a,b){if(b.used){var f=b.c2p(d[b.direction]),g=b.c2p(e[b.direction]);c[a]={from:Math.min(f,g),to:Math.max(f,g)}}}),c}function g(){var a=f();b.getPlaceholder().trigger("plotselected",[a]),a.xaxis&&a.yaxis&&b.getPlaceholder().trigger("selected",[{x1:a.xaxis.from,y1:a.yaxis.from,x2:a.xaxis.to,y2:a.yaxis.to}])}function h(a,b,c){return a>b?a:b>c?c:b}function i(a,c){var d=b.getOptions(),e=b.getPlaceholder().offset(),f=b.getPlotOffset();a.x=h(0,c.pageX-e.left-f.left,b.width()),a.y=h(0,c.pageY-e.top-f.top,b.height()),"y"==d.selection.mode&&(a.x=a==o.first?0:b.width()),"x"==d.selection.mode&&(a.y=a==o.first?0:b.height())}function j(a){null!=a.pageX&&(i(o.second,a),n()?(o.show=!0,b.triggerRedrawOverlay()):k(!0))}function k(a){o.show&&(o.show=!1,b.triggerRedrawOverlay(),a||b.getPlaceholder().trigger("plotunselected",[]))}function l(a,c){var d,e,f,g,h=b.getAxes();for(var i in h)if(d=h[i],d.direction==c&&(g=c+d.n+"axis",a[g]||1!=d.n||(g=c+"axis"),a[g])){e=a[g].from,f=a[g].to;break}if(a[g]||(d="x"==c?b.getXAxes()[0]:b.getYAxes()[0],e=a[c+"1"],f=a[c+"2"]),null!=e&&null!=f&&e>f){var j=e;e=f,f=j}return{from:e,to:f,axis:d}}function m(a,c){var d,e=b.getOptions();"y"==e.selection.mode?(o.first.x=0,o.second.x=b.width()):(d=l(a,"x"),o.first.x=d.axis.p2c(d.from),o.second.x=d.axis.p2c(d.to)),"x"==e.selection.mode?(o.first.y=0,o.second.y=b.height()):(d=l(a,"y"),o.first.y=d.axis.p2c(d.from),o.second.y=d.axis.p2c(d.to)),o.show=!0,b.triggerRedrawOverlay(),!c&&n()&&g()}function n(){var a=b.getOptions().selection.minSize;return Math.abs(o.second.x-o.first.x)>=a&&Math.abs(o.second.y-o.first.y)>=a}var o={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},p={},q=null;b.clearSelection=k,b.setSelection=m,b.getSelection=f,b.hooks.bindEvents.push(function(a,b){var e=a.getOptions();null!=e.selection.mode&&(b.mousemove(c),b.mousedown(d))}),b.hooks.drawOverlay.push(function(b,c){if(o.show&&n()){var d=b.getPlotOffset(),e=b.getOptions();c.save(),c.translate(d.left,d.top);var f=a.color.parse(e.selection.color);c.strokeStyle=f.scale("a",.8).toString(),c.lineWidth=1,c.lineJoin=e.selection.shape,c.fillStyle=f.scale("a",.4).toString();var g=Math.min(o.first.x,o.second.x)+.5,h=Math.min(o.first.y,o.second.y)+.5,i=Math.abs(o.second.x-o.first.x)-1,j=Math.abs(o.second.y-o.first.y)-1;c.fillRect(g,h,i,j),c.strokeRect(g,h,i,j),c.restore()}}),b.hooks.shutdown.push(function(b,e){e.unbind("mousemove",c),e.unbind("mousedown",d),q&&a(document).unbind("mouseup",q)})}a.plot.plugins.push({init:b,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(a){function b(b){function f(b){x||(x=!0,s=b.getCanvas(),t=a(s).parent(),e=b.getOptions(),b.setData(g(b.getData())))}function g(b){for(var c=0,d=0,f=0,g=e.series.pie.combine.color,h=[],i=0;i<b.length;++i){var j=b[i].data;a.isArray(j)?j[1]=a.isNumeric(j[1])?+j[1]:0:j=a.isNumeric(j)?[1,+j]:[1,0],b[i].data=[j]}for(var i=0;i<b.length;++i)c+=b[i].data[0][1];for(var i=0;i<b.length;++i){var j=b[i].data[0][1];j/c<=e.series.pie.combine.threshold&&(d+=j,f++,g||(g=b[i].color))}for(var i=0;i<b.length;++i){var j=b[i].data[0][1];(2>f||j/c>e.series.pie.combine.threshold)&&h.push({data:[[1,j]],color:b[i].color,label:b[i].label,angle:2*j*Math.PI/c,percent:j/(c/100)})}return f>1&&h.push({data:[[1,d]],color:g,label:e.series.pie.combine.label,angle:2*d*Math.PI/c,percent:d/(c/100)}),h}function h(b,f){function g(){y.clearRect(0,0,k,l),t.children().filter(".pieLabel, .pieLabelBackground").remove()}function h(){var a=e.series.pie.shadow.left,b=e.series.pie.shadow.top,c=10,d=e.series.pie.shadow.alpha,f=e.series.pie.radius>1?e.series.pie.radius:u*e.series.pie.radius;if(!(f>=k/2-a||f*e.series.pie.tilt>=l/2-b||c>=f)){y.save(),y.translate(a,b),y.globalAlpha=d,y.fillStyle="#000",y.translate(v,w),y.scale(1,e.series.pie.tilt);for(var g=1;c>=g;g++)y.beginPath(),y.arc(0,0,f,0,2*Math.PI,!1),y.fill(),f-=g;y.restore()}}function j(){function b(a,b,c){0>=a||isNaN(a)||(c?y.fillStyle=b:(y.strokeStyle=b,y.lineJoin="round"),y.beginPath(),Math.abs(a-2*Math.PI)>1e-9&&y.moveTo(0,0),y.arc(0,0,f,g,g+a/2,!1),y.arc(0,0,f,g+a/2,g+a,!1),y.closePath(),g+=a,c?y.fill():y.stroke())}function c(){function b(b,c,d){if(0==b.data[0][1])return!0;var g,h=e.legend.labelFormatter,i=e.series.pie.label.formatter;g=h?h(b.label,b):b.label,i&&(g=i(g,b));var j=(c+b.angle+c)/2,m=v+Math.round(Math.cos(j)*f),n=w+Math.round(Math.sin(j)*f)*e.series.pie.tilt,o="<span class='pieLabel' id='pieLabel"+d+"' style='position:absolute;top:"+n+"px;left:"+m+"px;'>"+g+"</span>";t.append(o);var p=t.children("#pieLabel"+d),q=n-p.height()/2,r=m-p.width()/2;if(p.css("top",q),p.css("left",r),0-q>0||0-r>0||l-(q+p.height())<0||k-(r+p.width())<0)return!1;if(0!=e.series.pie.label.background.opacity){var s=e.series.pie.label.background.color;null==s&&(s=b.color);var u="top:"+q+"px;left:"+r+"px;";a("<div class='pieLabelBackground' style='position:absolute;width:"+p.width()+"px;height:"+p.height()+"px;"+u+"background-color:"+s+";'></div>").css("opacity",e.series.pie.label.background.opacity).insertBefore(p)}return!0}for(var c=d,f=e.series.pie.label.radius>1?e.series.pie.label.radius:u*e.series.pie.label.radius,g=0;g<n.length;++g){if(n[g].percent>=100*e.series.pie.label.threshold&&!b(n[g],c,g))return!1;c+=n[g].angle}return!0}var d=Math.PI*e.series.pie.startAngle,f=e.series.pie.radius>1?e.series.pie.radius:u*e.series.pie.radius;y.save(),y.translate(v,w),y.scale(1,e.series.pie.tilt),y.save();for(var g=d,h=0;h<n.length;++h)n[h].startAngle=g,b(n[h].angle,n[h].color,!0);if(y.restore(),e.series.pie.stroke.width>0){y.save(),y.lineWidth=e.series.pie.stroke.width,g=d;for(var h=0;h<n.length;++h)b(n[h].angle,e.series.pie.stroke.color,!1);y.restore()}return i(y),y.restore(),e.series.pie.label.show?c():!0}if(t){var k=b.getPlaceholder().width(),l=b.getPlaceholder().height(),m=t.children().filter(".legend").children().width()||0;y=f,x=!1,u=Math.min(k,l/e.series.pie.tilt)/2,w=l/2+e.series.pie.offset.top,v=k/2,"auto"==e.series.pie.offset.left?e.legend.position.match("w")?v+=m/2:v-=m/2:v+=e.series.pie.offset.left,u>v?v=u:v>k-u&&(v=k-u);var n=b.getData(),o=0;do o>0&&(u*=d),o+=1,g(),e.series.pie.tilt<=.8&&h();while(!j()&&c>o);o>=c&&(g(),t.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),b.setSeries&&b.insertLegend&&(b.setSeries(n),b.insertLegend())}}function i(a){if(e.series.pie.innerRadius>0){a.save();var b=e.series.pie.innerRadius>1?e.series.pie.innerRadius:u*e.series.pie.innerRadius;a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=e.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.fill(),a.closePath(),a.restore(),a.save(),a.beginPath(),a.strokeStyle=e.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.restore()}}function j(a,b){for(var c=!1,d=-1,e=a.length,f=e-1;++d<e;f=d)(a[d][1]<=b[1]&&b[1]<a[f][1]||a[f][1]<=b[1]&&b[1]<a[d][1])&&b[0]<(a[f][0]-a[d][0])*(b[1]-a[d][1])/(a[f][1]-a[d][1])+a[d][0]&&(c=!c);return c}function k(a,c){for(var d,e,f=b.getData(),g=b.getOptions(),h=g.series.pie.radius>1?g.series.pie.radius:u*g.series.pie.radius,i=0;i<f.length;++i){var k=f[i];if(k.pie.show){if(y.save(),y.beginPath(),y.moveTo(0,0),y.arc(0,0,h,k.startAngle,k.startAngle+k.angle/2,!1),y.arc(0,0,h,k.startAngle+k.angle/2,k.startAngle+k.angle,!1),y.closePath(),d=a-v,e=c-w,y.isPointInPath){if(y.isPointInPath(a-v,c-w))return y.restore(),{datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:i}}else{var l=h*Math.cos(k.startAngle),m=h*Math.sin(k.startAngle),n=h*Math.cos(k.startAngle+k.angle/4),o=h*Math.sin(k.startAngle+k.angle/4),p=h*Math.cos(k.startAngle+k.angle/2),q=h*Math.sin(k.startAngle+k.angle/2),r=h*Math.cos(k.startAngle+k.angle/1.5),s=h*Math.sin(k.startAngle+k.angle/1.5),t=h*Math.cos(k.startAngle+k.angle),x=h*Math.sin(k.startAngle+k.angle),z=[[0,0],[l,m],[n,o],[p,q],[r,s],[t,x]],A=[d,e];if(j(z,A))return y.restore(),{datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:i}}y.restore()}}return null}function l(a){n("plothover",a)}function m(a){n("plotclick",a)}function n(a,c){var d=b.offset(),f=parseInt(c.pageX-d.left),g=parseInt(c.pageY-d.top),h=k(f,g);if(e.grid.autoHighlight)for(var i=0;i<z.length;++i){var j=z[i];j.auto!=a||h&&j.series==h.series||p(j.series)}h&&o(h.series,a);var l={pageX:c.pageX,pageY:c.pageY};t.trigger(a,[l,h])}function o(a,c){var d=q(a);-1==d?(z.push({series:a,auto:c}),b.triggerRedrawOverlay()):c||(z[d].auto=!1)}function p(a){null==a&&(z=[],b.triggerRedrawOverlay());var c=q(a);-1!=c&&(z.splice(c,1),b.triggerRedrawOverlay())}function q(a){for(var b=0;b<z.length;++b){var c=z[b];if(c.series==a)return b}return-1}function r(a,b){function c(a){a.angle<=0||isNaN(a.angle)||(b.fillStyle="rgba(255, 255, 255, "+d.series.pie.highlight.opacity+")",b.beginPath(),Math.abs(a.angle-2*Math.PI)>1e-9&&b.moveTo(0,0),b.arc(0,0,e,a.startAngle,a.startAngle+a.angle/2,!1),b.arc(0,0,e,a.startAngle+a.angle/2,a.startAngle+a.angle,!1),b.closePath(),b.fill())}var d=a.getOptions(),e=d.series.pie.radius>1?d.series.pie.radius:u*d.series.pie.radius;b.save(),b.translate(v,w),b.scale(1,d.series.pie.tilt);for(var f=0;f<z.length;++f)c(z[f].series);i(b),b.restore()}var s=null,t=null,u=null,v=null,w=null,x=!1,y=null,z=[];b.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.series.pie.label.show=b.legend.show?!1:!0),"auto"==b.series.pie.radius&&(b.series.pie.radius=b.series.pie.label.show?.75:1),b.series.pie.tilt>1?b.series.pie.tilt=1:b.series.pie.tilt<0&&(b.series.pie.tilt=0))}),b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&(c.grid.hoverable&&b.unbind("mousemove").mousemove(l),c.grid.clickable&&b.unbind("click").click(m))}),b.hooks.processDatapoints.push(function(a,b,c,d){var e=a.getOptions();e.series.pie.show&&f(a,b,c,d)}),b.hooks.drawOverlay.push(function(a,b){var c=a.getOptions();c.series.pie.show&&r(a,b)}),b.hooks.draw.push(function(a,b){var c=a.getOptions();c.series.pie.show&&h(a,b)})}var c=10,d=.95,e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(a,b){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+b.color+";'>"+a+"<br/>"+Math.round(b.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};a.plot.plugins.push({init:b,options:e,name:"pie",version:"1.1"})}(jQuery),function(a){function b(a,b,c,d){var e="categories"==b.xaxis.options.mode,f="categories"==b.yaxis.options.mode;if(e||f){var g=d.format;if(!g){var h=b;if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),h.bars.show||h.lines.show&&h.lines.fill){var i=!!(h.bars.show&&h.bars.zero||h.lines.show&&h.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:i}),h.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}d.format=g}for(var j=0;j<g.length;++j)g[j].x&&e&&(g[j].number=!1),g[j].y&&f&&(g[j].number=!1)}}function c(a){var b=-1;for(var c in a)a[c]>b&&(b=a[c]);return b+1}function d(a){var b=[];for(var c in a.categories){var d=a.categories[c];d>=a.min&&d<=a.max&&b.push([d,c])}return b.sort(function(a,b){return a[0]-b[0]}),b}function e(b,c,e){if("categories"==b[c].options.mode){if(!b[c].categories){var g={},h=b[c].options.categories||{};if(a.isArray(h))for(var i=0;i<h.length;++i)g[h[i]]=i;else for(var j in h)g[j]=h[j];b[c].categories=g}b[c].options.ticks||(b[c].options.ticks=d),f(e,c,b[c].categories)}}function f(a,b,d){for(var e=a.points,f=a.pointsize,g=a.format,h=b.charAt(0),i=c(d),j=0;j<e.length;j+=f)if(null!=e[j])for(var k=0;f>k;++k){var l=e[j+k];null!=l&&g[k][h]&&(l in d||(d[l]=i,++i),e[j+k]=d[l])}}function g(a,b,c){e(b,"xaxis",c),e(b,"yaxis",c)}function h(a){a.hooks.processRawData.push(b),a.hooks.processDatapoints.push(g)}var i={xaxis:{categories:null},yaxis:{categories:null}};a.plot.plugins.push({init:h,options:i,name:"categories",version:"1.0"})}(jQuery),function(a){function b(a,b){var c={square:function(a,b,c,d){var e=d*Math.sqrt(Math.PI)/2;a.rect(b-e,c-e,e+e,e+e)},diamond:function(a,b,c,d){var e=d*Math.sqrt(Math.PI/2);a.moveTo(b-e,c),a.lineTo(b,c-e),a.lineTo(b+e,c),a.lineTo(b,c+e),a.lineTo(b-e,c)},triangle:function(a,b,c,d,e){var f=d*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),g=f*Math.sin(Math.PI/3);a.moveTo(b-f/2,c+g/2),a.lineTo(b+f/2,c+g/2),e||(a.lineTo(b,c-g/2),a.lineTo(b-f/2,c+g/2))},cross:function(a,b,c,d){var e=d*Math.sqrt(Math.PI)/2;a.moveTo(b-e,c-e),a.lineTo(b+e,c+e),a.moveTo(b-e,c+e),a.lineTo(b+e,c-e)}},d=b.points.symbol;c[d]&&(b.points.symbol=c[d])}function c(a){a.hooks.processDatapoints.push(b)}a.plot.plugins.push({init:c,name:"symbols",version:"1.0"})}(jQuery),function(a){var b={tooltip:!1,tooltipOpts:{content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,shifts:{x:10,y:20},defaultTheme:!0,onHover:function(){}}},c=function(a){this.tipPosition={x:0,y:0},this.init(a)};c.prototype.init=function(b){function c(a){var b={};b.x=a.pageX,b.y=a.pageY,e.updateTooltipPosition(b)}function d(a,b,c){var d=e.getDomElement();if(c){var f;f=e.stringFormat(e.tooltipOptions.content,c),d.html(f),e.updateTooltipPosition({x:b.pageX,y:b.pageY}),d.css({left:e.tipPosition.x+e.tooltipOptions.shifts.x,top:e.tipPosition.y+e.tooltipOptions.shifts.y}).show(),"function"==typeof e.tooltipOptions.onHover&&e.tooltipOptions.onHover(c,d)}else d.hide().html("")}var e=this;b.hooks.bindEvents.push(function(b,f){e.plotOptions=b.getOptions(),e.plotOptions.tooltip!==!1&&"undefined"!=typeof e.plotOptions.tooltip&&(e.tooltipOptions=e.plotOptions.tooltipOpts,e.getDomElement(),a(b.getPlaceholder()).bind("plothover",d),a(f).bind("mousemove",c))}),b.hooks.shutdown.push(function(b,e){a(b.getPlaceholder()).unbind("plothover",d),a(e).unbind("mousemove",c)})},c.prototype.getDomElement=function(){var b;return a("#flotTip").length>0?b=a("#flotTip"):(b=a("<div />").attr("id","flotTip"),b.appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&b.css({background:"#fff","z-index":"100",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),b},c.prototype.updateTooltipPosition=function(b){var c=a("#flotTip").outerWidth()+this.tooltipOptions.shifts.x,d=a("#flotTip").outerHeight()+this.tooltipOptions.shifts.y;b.x-a(window).scrollLeft()>a(window).innerWidth()-c&&(b.x-=c),b.y-a(window).scrollTop()>a(window).innerHeight()-d&&(b.y-=d),this.tipPosition.x=b.x,this.tipPosition.y=b.y},c.prototype.stringFormat=function(a,b){var c=/%p\.{0,1}(\d{0,})/,d=/%s/,e=/%x\.{0,1}(?:\d{0,})/,f=/%y\.{0,1}(?:\d{0,})/;return"function"==typeof a&&(a=a(b.series.label,b.series.data[b.dataIndex][0],b.series.data[b.dataIndex][1],b)),"undefined"!=typeof b.series.percent&&(a=this.adjustValPrecision(c,a,b.series.percent)),"undefined"!=typeof b.series.label&&(a=a.replace(d,b.series.label)),this.isTimeMode("xaxis",b)&&this.isXDateFormat(b)&&(a=a.replace(e,this.timestampToDate(b.series.data[b.dataIndex][0],this.tooltipOptions.xDateFormat))),this.isTimeMode("yaxis",b)&&this.isYDateFormat(b)&&(a=a.replace(f,this.timestampToDate(b.series.data[b.dataIndex][1],this.tooltipOptions.yDateFormat))),"number"==typeof b.series.data[b.dataIndex][0]&&(a=this.adjustValPrecision(e,a,b.series.data[b.dataIndex][0])),"number"==typeof b.series.data[b.dataIndex][1]&&(a=this.adjustValPrecision(f,a,b.series.data[b.dataIndex][1])),"undefined"!=typeof b.series.xaxis.tickFormatter&&(a=a.replace(e,b.series.xaxis.tickFormatter(b.series.data[b.dataIndex][0],b.series.xaxis))),"undefined"!=typeof b.series.yaxis.tickFormatter&&(a=a.replace(f,b.series.yaxis.tickFormatter(b.series.data[b.dataIndex][1],b.series.yaxis))),a},c.prototype.isTimeMode=function(a,b){return"undefined"!=typeof b.series[a].options.mode&&"time"===b.series[a].options.mode},c.prototype.isXDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},c.prototype.isYDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},c.prototype.timestampToDate=function(b,c){var d=new Date(b);return a.plot.formatDate(d,c)},c.prototype.adjustValPrecision=function(a,b,c){var d,e=b.match(a);return null!==e&&""!==RegExp.$1&&(d=RegExp.$1,c=c.toFixed(d),b=b.replace(a,c)),b};var d=function(a){new c(a)};a.plot.plugins.push({init:d,options:b,name:"tooltip",version:"0.6.1"})}(jQuery),function(a){function b(a){function b(a,b,e){var g=null;if(c(b)&&(j(b),d(a),f(a),i(b),q>=2)){var h=k(b),r=0,t=l();"undefined"==typeof v[b.bars.order]&&(v[b.bars.order]=m(h)?-1*n(p,h-1,Math.floor(q/2)-1)-t:n(p,Math.ceil(q/2),h-2)+t+2*s),r=v[b.bars.order],g=o(e,b,r),e.points=g}return g}function c(a){return null!=a.bars&&a.bars.show&&null!=a.bars.order}function d(a){var b=u?a.getPlaceholder().innerHeight():a.getPlaceholder().innerWidth(),c=u?e(a.getData(),1):e(a.getData(),0),d=c[1]-c[0];t=d/b}function e(a,b){for(var c=new Array,d=0;d<a.length;d++)c[0]=a[d].data[0][b],c[1]=a[d].data[a[d].data.length-1][b];return c}function f(a){p=g(a.getData()),q=p.length}function g(a){for(var b=new Array,c=[],d=0;d<a.length;d++)null!=a[d].bars.order&&a[d].bars.show&&c.indexOf(a[d].bars.order)<0&&(c.push(a[d].bars.order),b.push(a[d]));return b.sort(h)}function h(a,b){var c=a.bars.order,d=b.bars.order;return d>c?-1:c>d?1:0}function i(a){r="undefined"!=typeof a.bars.lineWidth?a.bars.lineWidth:2,s=r*t}function j(a){a.bars.horizontal&&(u=!0)}function k(a){for(var b=0,c=0;c<p.length;++c)if(a==p[c]){b=c;break}return b+1}function l(){var a=0;return 0!=q%2&&(a=p[Math.ceil(q/2)].bars.barWidth/2),a}function m(a){return a<=Math.ceil(q/2)}function n(a,b,c){for(var d=0,e=b;c>=e;e++)d+=a[e].bars.barWidth+2*s;return d}function o(a,b,c){for(var d=a.pointsize,e=a.points,f=0,g=u?1:0;g<e.length;g+=d)e[g]+=c,b.data[f][3]=e[g],f++;return e}var p,q,r,s,t=1,u=!1,v={};a.hooks.processDatapoints.push(b)}var c={series:{bars:{order:null}}};a.plot.plugins.push({init:b,options:c,name:"orderBars",version:"0.2"})}(jQuery),function(a){function b(a){return a&&this.options.minLength>0&&this.options.minLength<a.length?a.substring(0,this.options.minLength):a}function c(a){return a instanceof HTMLElement||"string"==typeof a}var d={list:0,table:1};a.ui.richAutocomplete={},a.extend(a.ui.richAutocomplete,{objectCache:function(){var a={};return{get:function(b){return a[b]},put:function(b,c){a[b]=c}}}}),a.widget("rf.richAutocomplete",{LAYOUT:d,options:{token:"",showButton:!1,autoFocus:!1,autoFill:!1,source:[],layout:d.list,minLength:0,cached:!1,extractCacheSearchPrefix:b,cacheImplemenation:a.ui.richAutocomplete.objectCache,filter:a.ui.autocomplete.filter,update:null,suggestions:[]},_create:function(){var a=this;this.input=this.element,this.root=this._initDom(),this.options.cached&&(this.cache=new this.options.cacheImplemenation),this.options.layout||this._setOption("layout",this.LAYOUT.list);var b=this._getAutocompleteOptions();this.input.autocomplete(b),this.input.keydown(function(b){a.lastKeyupEvent=b}),this._registerListeners(),this.options.source&&this._setOption("source",this.options.source),this.input.disabled&&this._setOption("disabled",!0)},_destroy:function(){this.input.autocomplete("destroy"),this._destroyDom()},_enable:function(){this.input.autocomplete("enable"),this.button.removeAttr("disabled")},_disable:function(){this.input.autocomplete("disable"),this.button.attr("disabled","disabled")},_initDom:function(){if(this.root=a(a('<div class="r-autocomplete"></div>').insertBefore(this.input)[0]),this.root.append(this.input.detach()),this.options.showButton){var b=this;this.root.addClass("input-group"),this.button=a('<span class="input-group-btn"><button class="btn btn-light" type="button"><i class="icon-chevron-down"></button></i></span>').appendTo(this.root).find("button"),this.buttonClickHandler=function(){b.input.autocomplete("search"),b.input.focus()},this.button.on("click",this.buttonClickHandler)}return this.root},_destroyDom:function(){this.input.detach().insertAfter(this.root),this.root.remove()},_getAutocompleteOptions:function(){var a=this;return{delay:0,minLength:this.options.minLength,autoFocus:this.options.autoFocus,source:function(b,c){a._getSuggestions(b,c)},search:function(){return this.opened=!0,a.options.autoFill&&a.entered===a.input.val()?!1:(a.entered=a.input.val(),a.button&&(a.button.off("click",a.buttonClickHandler),a.button.find("i").removeClass("icon-chevron-down"),a.button.find("i").addClass("icon-chevron-up")),void 0)},focus:function(b,c){if(!a.options.autoFill)return!1;if(8==a.lastKeyupEvent.keyCode)return!1;var d=a.input,e=a.entered;return label=c.item.label,e=e.substring(0,d[0].selectionStart),e.length>0&&0===label.toLowerCase().indexOf(e.toLowerCase())?(d.val(e+label.substring(e.length)),d[0].selectionStart=e.length,d[0].selectionEnd=label.length,!1):!0},close:function(){a.button&&(a.button.find("i").removeClass("icon-chevron-up"),a.button.find("i").addClass("icon-chevron-down"),setTimeout(function(){a.button.on("click",a.buttonClickHandler)},150))},select:function(b,c){return this.value=a._selectValue(b,c,this.value),!1}}},_splitTokens:function(a){var b=new RegExp("\\s*"+this.options.token+"\\s*");return a.split(b)},_extractLastToken:function(a){return this._splitTokens(a).pop()},_extractSearchTerm:function(a){return this.options.token?this._extractLastToken(a.term):a.term},_selectValue:function(a,b,c){if(this.options.token){var d=this._splitTokens(c);return d.pop(),d.push(b.item.value),d.join(this.options.token+" ")}return b.item.value},_getSuggestions:function(b,c){var d=this._extractSearchTerm(b);if("string"===a.type(d)&&d.length<this.options.minLength)return!1;var e=a.extend({},b,{term:d});this.cache&&(e.term=this.options.extractCacheSearchPrefix.call(this,d));var f=a.proxy(function(){return this.cache&&this.cache.put(d,arguments),c.apply(window,arguments)},this);if(this.cache){var g=this.cache.get(d);if(g)return c.apply(window,g),void 0}this._retrieveSuggestions(e,f)},_retrieveSuggestions:function(b,d){var e=this.options.source;c(e)?this._suggestFromDom(b,d):a.isFunction(e)?e(b,d):d(this.options.filter(e,b.term))},_suggestFromDom:function(b,c){var d=this.options.update,e=a.proxy(function(){this._updateDomSuggestions(),c(this.options.filter(this.options.suggestions,b.term))},this);a.isFunction(d)?d.length>=2?d.call(window,b,e):(d.call(window,b),e()):c(this.options.filter(this.options.suggestions,b.term))},_updateDomSuggestions:function(){var b=[],c=a(this.options.source),e=d.list;c.is("table")&&(e=d.table,c=c.children("tbody")),a(c).children("tr, li").each(function(){b.push({value:a(this).data("label")||a(this).text().trim(),dom:a(this).clone()})}),this.option("layout")!==e&&this._setOption("layout",e),this._setOption("suggestions",b)},_preventTabbing:function(){this.element.bind("keydown",function(b){b.keyCode===a.ui.keyCode.TAB&&a(this).data("autocomplete").menu.active&&b.preventDefault()})},_registerListeners:function(){this.input.bind("autocompletesearch",this.options.onsearch),this.input.bind("autocompleteopen",this.options.onopen),this.input.bind("autocompletefocus",this.options.onfocus),this.input.bind("autocompleteselect",this.options.onselect),this.input.bind("autocompleteclose",this.options.onclose),this.input.bind("autocompletechange",this.options.onchange)},_setLayout:function(b){var c=this.input.autocomplete().data("ui-autocomplete");switch(b){case this.LAYOUT.list:c._renderMenu=a.ui.autocomplete.prototype._renderMenu,c._renderItem=function(b,c){var d=c.dom?a("<a>").html(c.dom.html()):a("<a>").text(c.label);return a("<li>").append(d).appendTo(b)};break;case this.LAYOUT.table:this._setOption("appendTo",a("<div class='ui-autocomplete-layout-table-wrapper'>").appendTo(a("body"))),c._renderMenu=function(b,c){return b.addClass("ui-autocomplete-layout-table"),a.ui.autocomplete.prototype._renderMenu.call(this,b,c)},c._renderItem=function(b,c){var d=a("<a>");return c.dom.find("td").each(function(){a("<span>").html(a(this).html()).appendTo(d)}),a("<li></li>").data("item.autocomplete",c).append(d).appendTo(b)}}},_setOption:function(a,b){"layout"===a&&this._setLayout(b),"disabled"===a&&(b?this._disable():this._enable()),this._super(a,b),"source"===a&&c(b)&&this._updateDomSuggestions()}})}(jQuery),function(a){a.widget("rf.chart",{options:{grid:{clickable:!0,hoverable:!0},tooltip:!0,tooltipOpts:{content:"%s  [%x,%y]",shifts:{x:20,y:0},defaultTheme:!1}},pieDefaults:{series:{pie:{show:!0}},tooltipOpts:{content:" %p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}},dateDefaults:{xaxis:{mode:"time",timeformat:"%Y/%m/%d",minTickSize:[1,"day"]}},_create:function(){this._handleTypeDependentOptions(),this._draw(),this._registerListeners()},_handleTypeDependentOptions:function(){if("pie"===this.options.charttype)this.options=a.extend(this.options,this.pieDefaults),this.options.data=this.options.data[0];else if("bar"===this.options.charttype){if("class java.lang.String"===this.options.xtype){var b=[],c=[],d=!0,e=0;for(index in this.options.data){var f=[],g=0;if(d){for(h in this.options.data[index].data)b.push([g,h]),c.push(h),f.push([g,this.options.data[index].data[h]]),g++;d=!1}else for(k in c){var h=c[k];this.options.data[index].data[h]&&f.push([g,this.options.data[index].data[h]]),g++}this.options.data[index].data=f;var i={order:e,show:!0};this.options.data[index].bars=i,e++}this.options.xaxis=a.extend(this.options.xaxis,{ticks:b,tickLength:0,tickFormatter:function(a,b){return b.ticks[a].label}}),this.options.bars=a.extend(this.options.bars,{show:!0,barWidth:.2,align:"center"})}}else"line"===this.options.charttype&&(this.options.zoom&&(this.options.selection={mode:"xy"}),"class java.util.Date"===this.options.xtype&&(this.options=a.extend(this.options,this.dateDefaults),this.options.xaxis.format&&(this.options.xaxis.timeformat=this.options.xaxis.format)))},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),this._super("_setOption",b,c);var d=!0;switch(b){case"zoom":case"handlers":case"particularSeriesHandlers":this._unbind(),this._registerListeners(),d=!1}d&&this._draw()},_draw:function(b){this.plot=b?a.plot(this.element,b.data,b):a.plot(this.element,this.options.data,this.options)},_registerListeners:function(){this.options.zoom&&this.element.bind("plotselected",this._getZoomFunction(this,this.element,this.options)),this.element.bind("plotclick",this._getPlotClickHandler(this.options,this.element)),this.element.bind("plothover",this._getPlotHoverHandler(this.options,this.element)),this.options.handlers&&this.options.handlers.onmouseout&&this.element.bind("mouseout",this.options.handlers.onmouseout)},_getPlotClickHandler:function(a,b){return function(c,d,e){null!==e&&(c.data={seriesIndex:e.seriesIndex,dataIndex:e.dataIndex,x:e.datapoint[0],y:e.datapoint[1],item:e},a.handlers.eventFunction(c,"plotclick",c.data.seriesIndex,c.data.dataIndex,c.data.x,c.data.y),a.handlers&&a.handlers.onplotclick&&a.handlers.onplotclick.call(b,c),a.particularSeriesHandlers&&a.particularSeriesHandlers.onplotclick[c.data.seriesIndex]&&a.particularSeriesHandlers.onplotclick[c.data.seriesIndex].call(b,c))}},_getPlotHoverHandler:function(a,b){return function(c,d,e){null!==e&&(c.data={seriesIndex:e.seriesIndex,dataIndex:e.dataIndex,x:e.datapoint[0],y:e.datapoint[1],item:e},a.handlers&&a.handlers.onplothover&&a.handlers.onplothover.call(b,c),a.particularSeriesHandlers&&a.particularSeriesHandlers.onplothover[c.data.seriesIndex]&&a.particularSeriesHandlers.onplothover[c.data.seriesIndex].call(b,c))}},_getZoomFunction:function(b){return function(c,d){d.xaxis.to-d.xaxis.from<1e-5&&(d.xaxis.to=d.xaxis.from+1e-5),d.yaxis.to-d.yaxis.from<1e-5&&(d.yaxis.to=d.yaxis.from+1e-5),b._draw(a.extend({},b.options,{xaxis:{min:d.xaxis.from,max:d.xaxis.to},yaxis:{min:d.yaxis.from,max:d.yaxis.to}}))
}},resetZoom:function(){this._draw()},getPlotObject:function(){return this.plot},_unbind:function(){this.element.unbind("plotclick"),this.element.unbind("plothover"),this.element.unbind("plotselected"),this.element.unbind("mouseout")},destroy:function(){this.plot.shutDown(),this._unbind(),a.Widget.prototype.destroy.call(this)}})}(jQuery),function(a){a.widget("rf.orderingList",{options:{disabled:!1,header:void 0,height:void 0,heightMin:void 0,heightMax:void 0,styleClass:void 0,columnClasses:void 0,showButtons:!0,buttonsText:void 0,contained:!0,dragSelect:!1,dropOnEmpty:!0,mouseOrderable:!0,widgetEventPrefix:"orderinglist_",change:null,addDomElements:null,destroy:null,focus:null,blur:null,change:null},_create:function(){var b=this;this.selectableOptions={disabled:b.options.disabled},this.sortableOptions={handle:this.options.dragSelect?".handle":!1,disabled:this.options.disabled,dropOnEmpty:this.options.dropOnEmpty,scroll:!0,placeholder:"placeholder",tolerance:"pointer",start:function(a,c){b.currentItems=c.item.parent().children(".ui-selected").not(".placeholder").not(".helper-item");var d=c.helper,e=b.element.find(".placeholder");e.css("height",d.css("height")),b.currentItems.not(c.item).hide()},sort:function(b,c){var d=a(this),e=c.helper.position().top,f=e+c.helper.outerHeight();d.children(".ui-selectee").not(".placeholder").not(".helper-item").not(".ui-selected").each(function(){var b=a(this),c=b.position().top,g=b.position().top+b.outerHeight()/2;return g>e&&f>g?(c>e?a(".placeholder",d).insertAfter(b):a(".placeholder",d).insertBefore(b),!1):void 0})},cancel:function(){b.currentItems.show()},over:function(){b.fillItem&&b._updateFillRow()},beforeStop:function(){},stop:function(a,c){var d=b.currentItems.first();d.get(0)!==c.item.get(0)?(c.item.before(d),d.after(b.currentItems.not(d).detach())):c.item.after(b.currentItems.not(c.item).detach()),b.currentItems.not(".placeholder").show();var c=b._dumpState();c.movement="drag",b.fillItem&&b._updateFillRow(),b._trigger("change",a,c)}},this.element.is("table")?(this.strategy="table",this.$pluginRoot=this.element.find("tbody"),this.sortableOptions.items="tr:not(.fill-item)",this.selectableOptions.filter="tr:not(.fill-item)",this.sortableOptions.helper=a.proxy(this._rowHelper,this)):(this.strategy="list",this.$pluginRoot=this.element,this.selectableOptions.filter="li",this.sortableOptions.helper=a.proxy(this._listHelper,this)),this.options.contained!==!1&&(this.sortableOptions.containment=this.$pluginRoot,this.sortableOptions.axis="y"),this._addDomElements(),this.widgetEventPrefix=this.options.widgetEventPrefix,this.options.mouseOrderable===!0&&this.$pluginRoot.sortable(this.sortableOptions),this.$pluginRoot.selectable(this.selectableOptions),this.options.disabled===!0&&b._disable(),this._addDragListeners(),this.selectList.on("focusin",function(a){b._trigger("focus",a,b._dumpState())}),this.selectList.on("focusout",function(a){b._trigger("blur",a,b._dumpState())}),"undefined"!=typeof this.options.height&&this._setHeight(this.options.height),"undefined"!=typeof this.options.heightMin&&this._setHeightMin(this.options.heightMin),"undefined"!=typeof this.options.heightMax&&this._setHeightMax(this.options.heightMax),this._trigger("create",void 0,this._dumpState())},destroy:function(){a.Widget.prototype.destroy.call(this),this.$pluginRoot.sortable("destroy").selectable("destroy"),this._removeDomElements(),this.element.attr("class")||this.element.removeAttr("class"),"table"===this.strategy?this.element.children().each(function(){var b=a(this);b.attr("class")||b.removeAttr("class"),b.children().each(function(){var b=a(this);b.attr("class")||b.removeAttr("class"),b.children().each(function(){var b=a(this);b.attr("class")||b.removeAttr("class")})})}):this.element.children().each(function(){var b=a(this);b.attr("class")||b.removeAttr("class")}),this._trigger("destroy",void 0,{})},_addDragListeners:function(){var b=this;0==this.options.dragSelect?(this.element.on("mousedown",".ui-selectee",function(){var c=a(this);b.selectList.get(0)!==document.activeElement&&b.selectList.focus();var d=c.parents(".list").first();d.data("rfOrderingList").mouseStarted=!0}),this.$pluginRoot.on("mousemove",".ui-selectee",function(b){var c=a(this),d=c.parents(".list").first(),e=d.data("rfOrderingList");if(e.mouseStarted&&(e.mouseStarted=!1,!c.hasClass("ui-selected"))){var f=e.$pluginRoot.data("uiSelectable");f._mouseStart(b),f._mouseStop(b)}}),this.element.on("mouseup",".ui-selectee",function(b){var c=a(this),d=c.parents(".list").first(),e=d.data("rfOrderingList");if(e.mouseStarted){e.mouseStarted=!1;var f=e.$pluginRoot.data("uiSelectable");f._mouseStart(b),f._mouseStop(b)}})):this.element.find(".handle").on("mousedown",function(b){var c=a(this).parents(".ui-selectee").first();if(!c.hasClass("ui-selected")){var d=c.parents(".list").first(),e=d.data("rfOrderingList").$pluginRoot.data("uiSelectable");e._mouseStart(b),e._mouseStop(b)}})},_removeDragListeners:function(){0==this.options.dragSelect?(this.element.off("mousedown",".ui-selectee"),this.element.off("mousemove",".ui-selectee"),this.element.off("mouseup",".ui-selectee")):this.element.find(".handle").off("mousedown")},_listHelper:function(b,c){var d=a("<ol />").addClass("helper").css("height","auto").css("width",this.element.css("width"));return c.parent().children(".ui-selected").not(".ui-sortable-placeholder").clone().addClass("helper-item").show().appendTo(d),d},_rowHelper:function(b,c){var d=a("<div />").addClass("helper").css("height","auto");c.parent().children(".ui-selected").not(".ui-sortable-placeholder").clone().addClass("helper-item").show().appendTo(d);var e=d.children("tr").first();return e.children().each(function(b){var d=c.children().get(b),e=a(d).css("width");a(this).css("width",e)}),d},_setOption:function(b,c){var d=this;if(this.options.key!==c){switch(b){case"disabled":c===!0?d._disable():d._enable();break;case"header":d.header||d._addHeader(),d.header.text(c);break;case"height":d._setHeight(c);break;case"heightMin":d._setHeightMin(c);break;case"heightMax":d._setHeightMax(c);break;case"columnClasses":d.options.columnClasses&&d._removeColumnClasses(d.options.columnClasses),d._addColumnClasses(c);break;case"styleClass":d.options.styleClass&&d.selectList.removeClass(this.options.styleClass),d.selectList.addClass(c);break;case"buttonsText":this._applyButtonsText(this.selectList.find(".btn-group-vertical"),c)}a.Widget.prototype._setOption.apply(d,arguments)}},_createKeyArray:function(b){var c=new Array;return b.each(function(){var b=a(this),d=b.data("key"),e="undefined"!=typeof d?d:b.text();c.push(e)}),c},connectWith:function(b){if(this.options.mouseOrderable){var c=b.data("rfOrderingList");this.$pluginRoot.sortable("option","connectWith",c.$pluginRoot),this._addFillRow(),b.on("sortover",a.proxy(this._updateFillRow,this))}},isSelected:function(b){return a(b).hasClass("ui-selected")},getSelected:function(){return this.element.find(".ui-selected")},selectItem:function(b){a(b).addClass("ui-selected")},unSelectItem:function(b){a(b).removeClass("ui-selected")},unSelectAll:function(){var a=this;this._removeDomElements(),this.element.children().each(function(){a.unSelectItem(this)})},moveTop:function(b,c){if(!this.options.disabled){var d=b.prevAll().not(".ui-selected").last();a(b).insertBefore(d);var e=this._dumpState();e.movement="moveTop",this._trigger("change",c,e)}},moveUp:function(b,c){if(!this.options.disabled){a(b).each(function(){var b=a(this),c=b.prevAll().not(".ui-selected").first();c.length>0&&b.insertBefore(c)});var d=this._dumpState();d.movement="moveUp",this._trigger("change",c,d)}},moveDown:function(b,c){if(!this.options.disabled){a(b).sort(function(){return 1}).each(function(){var b=a(this),c=b.nextAll().not(".ui-selected").first();c.length>0&&b.insertAfter(c)});var d=this._dumpState();d.movement="moveDown",this._trigger("change",c,d)}},moveLast:function(b,c){if(!this.options.disabled){var d=b.nextAll().not(".ui-selected").last();a(b).insertAfter(d);var e=this._dumpState();e.movement="moveLast",this._trigger("change",c,e)}},remove:function(a){a.detach();var b=this._dumpState();return b.movement="remove",this._trigger("change",event,b),a},add:function(a){this.$pluginRoot.prepend(a);var b=this._dumpState();return b.movement="add",this._trigger("change",event,b),a},getOrderedElements:function(){return this.element.find(".ui-selectee")},getOrderedKeys:function(){return this._createKeyArray(this.getOrderedElements())},_addDomElements:function(){if(this._addParents(),this._addMouseHandles(),this.options.showButtons===!0&&this._addButtons(),"table"===this.strategy){var b=this;this.element.find("tr").each(function(){var c=a(this),d=c.children();d.last().addClass("last"),d.first().addClass("first"),b.options.columnClasses&&b._addColumnClassesToCells(d,b.options.columnClasses)})}this._trigger("addDomElements",void 0,this._dumpState())},_addColumnClasses:function(b){if("table"===this.strategy){var c=this;this.element.find("tr").each(function(){c._addColumnClassesToCells(a(this).children(),b)})}},_addColumnClassesToCells:function(b,c){var c=c.split(" ");b.each(function(b){return b<c.length?(a(this).addClass(c[b]),void 0):!1})},_addButtons:function(){var b=a("<div/>").addClass("btn-group-vertical");this._addButton(b,"first","icon-arrow-up",a.proxy(this._firstHandler,this)),this._addButton(b,"up","icon-arrow-up",a.proxy(this._upHandler,this)),this._addButton(b,"down","icon-arrow-down",a.proxy(this._downHandler,this)),this._addButton(b,"last","icon-arrow-down",a.proxy(this._lastHandler,this)),this.options.buttonsText&&this._applyButtonsText(b,this.options.buttonsText),this.content.append(a("<div />").addClass("button-column").append(b))},_applyButtonsText:function(a,b){this._applyButtonText(a.find(".btn-first"),b.first),this._applyButtonText(a.find(".btn-up"),b.up),this._applyButtonText(a.find(".btn-down"),b.down),this._applyButtonText(a.find(".btn-last"),b.last)},_applyButtonText:function(b,c){return c?(b.hasClass("labeled")?b.find("span").text(c):b.addClass("labeled").append(a("<span />").text(c)),void 0):(b.hasClass("labeled")&&(b.removeClass("labeled"),b.find("span").remove()),void 0)},_addButton:function(b,c,d,e){var f=a("<button/>").attr("type","button").addClass("btn btn-default").addClass("btn-"+c).on("click.orderingList",e).append(a("<i />").addClass("icon icon-"+c));b.append(f)},_addMouseHandles:function(){this.options.mouseOrderable===!0&&this.options.dragSelect===!0&&(this.content.addClass("with-handle"),"table"===this.strategy?(this.element.find("tbody > tr").prepend("<th class='handle'><i class='icon-move'></i></th>"),this.element.find("thead > tr").prepend("<th class='handle'></th>")):"list"===this.strategy&&this.element.find("li").prepend("<div class='handle'><i class='icon-move'></i></div>"))},_addParents:function(){this.element.addClass("list").wrap(a("<div />").addClass("ordering-list select-list").attr("tabindex",-1).append(a("<div />").addClass("content").append(a("<div />").addClass("scroll-box")))),this.selectList=this.element.parents(".select-list").first(),this.options.styleClass&&this.selectList.addClass(this.options.styleClass),this.options.header&&this._addHeader(),this.content=this.selectList.find(".content")},_addHeader:function(){var b=a("<div />").addClass("header");b.html(this.options.header),this.selectList.prepend(b),this.header=b},_addFillRow:function(){var b=this.$pluginRoot.sortable("option","connectWith");if(b&&"table"==this.strategy){var c=this.$pluginRoot.sortable("option","items"),d=this.$pluginRoot.find(c);if(d.length>0)var e=d.first();else{var f=a(b).find("tr");f.length>0&&(e=f.first())}if(e){var g=e.clone();g.removeClass().addClass("fill-item").removeClass("ui-selectee"),g.find("td").empty(),g.data("key",void 0),this.$pluginRoot.append(g),this.fillItem=g,this.element.on(this.options.widgetEventPrefix+"change",a.proxy(this._updateFillRow,this))}this._updateFillRow()}},_updateFillRow:function(){if(this.fillItem){this.fillItem.css("height","0");var a=this.fillItem.parents("table").first(),b=this.fillItem.parents("tbody").first(),c=this.fillItem.parents(".scroll-box").first();this.fillItem.detach();var d=c.height()-a.height(),e=this.element.find(".placeholder");e&&(d-=e.height()),this.fillItem.height(d),this.fillItem.toggle(d>2),b.append(this.fillItem)}},_setHeight:function(a){this.selectList.find(".scroll-box").css("height",a)},_setHeightMin:function(a){this.selectList.find(".scroll-box").css("min-height",a)},_setHeightMax:function(a){this.selectList.find(".scroll-box").css("max-height",a)},_disable:function(){this.$pluginRoot.sortable("option","disabled",!0).selectable("option","disabled",!0),this.element.addClass("disabled").find(".ui-selected").removeClass("ui-selected"),this.element.find(".ui-selectee").removeClass("ui-selectee").addClass("ui-disabled"),a(".button-column",this.content).find("button").attr("disabled",!0),this._removeDragListeners()},_enable:function(){this.$pluginRoot.sortable("option","disabled",!1).selectable("option","disabled",!1),this.element.removeClass("disabled"),this.element.find(".ui-disabled").removeClass("ui-disabled").addClass("ui-selectee"),a(".button-column",this.content).find("button").attr("disabled",!1),this._addDragListeners()},_dumpState:function(){var a={};return a.orderedElements=this.getOrderedElements(),a.orderedKeys=this.getOrderedKeys(),a},_removeDomElements:function(){if(this.element.find(".ui-selected").removeClass("ui-selected"),"table"===this.strategy){var b=this;this.element.find("tr").each(function(){var c=a(this),d=c.children();d.last().removeClass("last"),d.first().removeClass("first"),b.options.columnClasses&&b._removeColumnClassesFromCells(d,b.options.columnClasses)}),this.fillItem&&this.element.find(".fill-item").remove()}var c=this.element.detach();this.selectList.replaceWith(c),this.options.dragSelect===!0&&(this.content.removeClass("with-handle"),this.element.find(".handle").remove()),this.element.removeClass("list")},_removeColumnClasses:function(b){if("table"===this.strategy){var c=this;this.element.find("tr").each(function(){c._removeColumnClassesFromCells(a(this).children(),b)})}},_removeColumnClassesFromCells:function(b,c){var c=c.split(" ");b.each(function(b){return b<c.length?(a(this).removeClass(c[b]),void 0):!1})},_firstHandler:function(b){this.moveTop(a(".ui-selected",this.element),b)},_upHandler:function(b){this.moveUp(a(".ui-selected",this.element),b)},_downHandler:function(b){this.moveDown(a(".ui-selected",this.element),b)},_lastHandler:function(b){this.moveLast(a(".ui-selected",this.element),b)}})}(jQuery),function(a){a.widget("rf.pickList",{options:{disabled:!1,header:void 0,height:void 0,heightMin:void 0,heightMax:void 0,styleClass:void 0,columnClasses:void 0,sourceHeader:void 0,targetHeader:void 0,switchByClick:void 0,switchByDblClick:void 0,orderable:!0,orderButtonsText:void 0,pickButtonsText:void 0,widgetEventPrefix:"picklist_",change:null,addDomElements:null,destroy:null,focus:null,blur:null,change:null},_create:function(){this.widgetEventPrefix=this.options.widgetEventPrefix,this.sourceList=this.element.find(".source"),this.targetList=this.element.find(".target"),this._addDomElements(),this.sourceList.orderingList({showButtons:!1,mouseOrderable:this.options.orderable,contained:!1,columnClasses:this.options.columnClasses,disabled:this.options.disabled,header:this.options.sourceHeader,widgetEventPrefix:"sourcelist_"}),this.targetList.orderingList({showButtons:this.options.orderable,mouseOrderable:this.options.orderable,contained:!1,columnClasses:this.options.columnClasses,buttonsText:this.options.orderButtonsText,disabled:this.options.disabled,header:this.options.targetHeader,widgetEventPrefix:"targetlist_"}),this.options.orderable&&(this.sourceList.orderingList("connectWith",this.targetList),this.targetList.orderingList("connectWith",this.sourceList)),this._registerListeners(),this.options.disabled===!0&&this._disable(),"undefined"!=typeof this.options.height&&this._setHeight(this.options.height),"undefined"!=typeof this.options.heightMin&&this._setHeightMin(this.options.heightMin),"undefined"!=typeof this.options.heightMax&&this._setHeightMax(this.options.heightMax),this._trigger("create",void 0,this._dumpState())},destroy:function(){return a.Widget.prototype.destroy.call(this),this._unregisterListeners(),this.sourceList.orderingList("destroy"),this.targetList.orderingList("destroy"),this._removeDomElements(),this.element.removeClass("inner").removeClass("row"),this.element.attr("class")||this.element.removeAttr("class"),this._trigger("destroy",void 0,{}),this},removeItems:function(a,b){if(!this.options.disabled){this.targetList.orderingList("remove",a),this.sourceList.orderingList("add",a);var c=this._dumpState();c.change="remove",this._trigger("change",b,c)}},addItems:function(a,b){if(!this.options.disabled){this.sourceList.orderingList("remove",a),this.targetList.orderingList("add",a);var c=this._dumpState();c.change="add",this._trigger("change",b,c)}},_setOption:function(b,c){var d=this;if(this.options.key!==c){switch(b){case"disabled":c===!0?d._disable():d._enable();break;case"header":d.options.header||d._addHeader(c),d.outer.find(".header-row .header").text(c);break;case"height":d._setHeight(c);break;case"heightMin":d._setHeightMin(c);break;case"heightMax":d._setHeightMax(c);break;case"sourceHeader":d.options.sourceHeader||d._addSubHeader(c,this.options.targetHeader),d.outer.find(".sub-header-row .source").text(c);break;case"targetHeader":d.options.targetHeader||d._addSubHeader(c,this.options.targetHeader),d.outer.find(".sub-header-row .target").text(c);break;case"styleClass":d.options.styleClass&&d.outer.removeClass(d.options.styleClass),d.outer.addClass(c);break;case"columnClasses":d.sourceList.orderingList("option","columnClasses",c),d.targetList.orderingList("option","columnClasses",c);break;case"orderButtonsText":d.targetList.orderingList("option","buttonsText",c);break;case"buttonsText":this._applyButtonsText(this.outer.find(".middle .btn-group-vertical"),c);break;case"switchByClick":c===!0?d._addClickListeners():d._removeClickListeners();break;case"switchByDblClick":c===!0?d._addDoubleClickListeners():d._removeDoubleClickListeners()}a.Widget.prototype._setOption.apply(d,arguments)}},_addDomElements:function(){this._addParents();var b=a("<div />").addClass("middle button-column col-sm-1");b.append(this._buttonStack()),this.sourceList.parent().after(b),this._trigger("addDomElements",void 0,{})},_buttonStack:function(){var b=a('<button type="button" class="btn btn-default"/>'),c=a("<div/>").addClass("btn-group-picklist");return c.append(b.clone().addClass("btn-remove-all col-sm-12 col-xs-3").html('<i class="icon icon-left-all" />').on("click.pickList",a.proxy(this._removeAllHandler,this))).append(b.clone().addClass("btn-remove col-sm-12 col-xs-3").html('<i class="icon icon-left" />').on("click.pickList",a.proxy(this._removeHandler,this))).append(b.clone().addClass("btn-add col-sm-12 col-xs-3").html('<i class="icon icon-right" />').on("click.pickList",a.proxy(this._addHandler,this))).append(b.clone().addClass("btn-add-all col-sm-12 col-xs-3").html('<i class="icon icon-right-all" />').on("click.pickList",a.proxy(this._addAllHandler,this))),this.options.pickButtonsText&&this._applyButtonsText(c,this.options.pickButtonsText),c},_applyButtonsText:function(a,b){this._applyButtonText(a.find(".btn-add-all"),b.addAll),this._applyButtonText(a.find(".btn-add"),b.add),this._applyButtonText(a.find(".btn-remove"),b.remove),this._applyButtonText(a.find(".btn-remove-all"),b.removeAll)},_applyButtonText:function(b,c){return c?(b.hasClass("labeled")?b.find("span").text(c):b.addClass("labeled").append(a("<span />").text(c)),void 0):(b.hasClass("labeled")&&(b.removeClass("labeled"),b.find("span").remove()),void 0)},_addParents:function(){this.element.addClass("row inner").wrap(a("<div />").addClass("container pick-list outer")),this.outer=this.element.parents(".outer").first(),this.options.styleClass&&this.outer.addClass(this.options.styleClass),this.options.header&&this._addHeader(this.options.header),(this.options.sourceHeader||this.options.targetHeader)&&this._addSubHeader(this.options.sourceHeader,this.options.targetHeader),this.sourceList.wrap(a("<div />").addClass("source-wrapper col-sm-5")),this.targetList.wrap(a("<div />").addClass("target-wrapper col-sm-6")),this.content=this.element,this.outer.attr("tabindex","-1")},_addSubHeader:function(b,c){if(b||c){var d=a("<div />").addClass("row sub-header-row"),b=a("<div />").addClass("col-sm-5 source header").html(b),c=a("<div />").addClass("col-sm-6 col-sm-offset-1 target header").html(c);d.append(b).append(c);var e=this.outer.find(".header-row");0!==e.length?d.insertAfter(e):this.outer.prepend(d)}},_addHeader:function(b){if(this.header=c,b){var c=a("<div />").addClass("row header-row"),b=a("<div />").addClass("col-xs-12 header").html(b);c.append(b);var d=this.outer.find(".sub-header-row");0!==d.length?c.insertBefore(d):this.outer.prepend(c)}},_setHeight:function(a){this.sourceList.orderingList("option","height",a),this.targetList.orderingList("option","height",a)},_setHeightMin:function(a){this.sourceList.orderingList("option","heightMin",a),this.targetList.orderingList("option","heightMin",a)},_setHeightMax:function(a){this.sourceList.orderingList("option","heightMax",a),this.targetList.orderingList("option","heightMax",a)},_registerListeners:function(){var a=this;this.sourceList.on("sortreceive",function(b){var c=a._dumpState();c.change="remove",c.originalEvent=b,a._trigger("change",b,c)}),this.targetList.on("sortreceive",function(b){var c=a._dumpState();c.change="add",c.originalEvent=b,a._trigger("change",b,c)}),this.targetList.on("targetlist_change",function(b){var c=a._dumpState();c.change="sort",c.originalEvent=b,a._trigger("change",b,c)}),this.options.switchByClick&&this._addClickListeners(),this.options.switchByDblClick&&this._addDoubleClickListeners(),this.outer.on("focusin.picklist",function(b){a._trigger("focus",b,a._dumpState())}),this.outer.on("focusout.picklist",function(b){a._trigger("blur",b,a._dumpState())})},_unregisterListeners:function(){this.outer.off("focusin.picklist"),this.outer.off("focusout.picklist")},_addClickListeners:function(){var b=this;this.sourceList.on("click.pickList",".ui-selectee",function(c){b.addItems(a(this),c)}),this.targetList.on("click.pickList",".ui-selectee",function(c){b.removeItems(a(this),c)})},_removeClickListeners:function(){this.sourceList.off("click.picklist",".ui-selectee"),this.targetList.off("click.picklist",".ui-selectee")},_addDoubleClickListeners:function(){var b=this;this.sourceList.on("dblclick.pickList",".ui-selectee",function(c){b.addItems(a(this),c)}),this.targetList.on("dblclick.pickList",".ui-selectee",function(c){b.removeItems(a(this),c)})},_removeDoubleClickListeners:function(){this.sourceList.off("dblclick.picklist",".ui-selectee"),this.targetList.off("dblclick.picklist",".ui-selectee")},_disable:function(){this.sourceList.orderingList("option","disabled",!0),this.targetList.orderingList("option","disabled",!0),this.element.addClass("disabled"),this.outer.find(".button-column button").attr("disabled",!0)},_enable:function(){this.sourceList.orderingList("option","disabled",!1),this.targetList.orderingList("option","disabled",!1),this.element.removeClass("disabled"),this.outer.find(".button-column button").attr("disabled",!1),this._registerListeners()},_dumpState:function(){var a={};return a.pickedElements=this.targetList.orderingList("getOrderedElements"),a.pickedKeys=this.targetList.orderingList("getOrderedKeys"),a},_removeDomElements:function(){this.sourceList.parents(".source-wrapper").first().replaceWith(this.sourceList.detach()),this.targetList.parents(".target-wrapper").first().replaceWith(this.targetList.detach()),this.element.find(".middle").remove();var a=this.element.detach();this.outer.replaceWith(a)},_removeAllHandler:function(b){var c=a(".ui-selectee",this.targetList);this.removeItems(c,b),this.sourceList.orderingList("selectItem",c)},_removeHandler:function(b){this.removeItems(a(".ui-selected",this.targetList),b)},_addHandler:function(b){this.addItems(a(".ui-selected",this.sourceList),b)},_addAllHandler:function(b){var c=a(".ui-selectee",this.sourceList);this.addItems(c,b),this.targetList.orderingList("selectItem",c)}})}(jQuery);