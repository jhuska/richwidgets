// JBoss RedHat (c)
(function(t){function e(t){return t&&this.options.minLength>0&&this.options.minLength<t.length?t.substring(0,this.options.minLength):t}var s={list:0,table:1};t.ui.richAutocomplete={},t.extend(t.ui.richAutocomplete,{objectCache:function(){var t={};return{get:function(e){return t[e]},put:function(e,s){t[e]=s}}}}),t.widget("rf.richAutocomplete",{LAYOUT:s,options:{token:"",showButton:!1,autoFocus:!1,autoFill:!1,source:[],layout:s.list,minLength:0,cached:!1,extractCacheSearchPrefix:e,cacheImplemenation:t.ui.richAutocomplete.objectCache,filter:t.ui.autocomplete.filter,update:null,suggestions:[]},_create:function(){this.input=this.element,this.disabled=this.input.disabled,this.root=this._initDom(),this.options.cached&&(this.cache=new this.options.cacheImplemenation),this.options.layout||this._setOption("layout",this.LAYOUT.list);var t=this._getAutocompleteOptions();this.input.autocomplete(t),this._registerListeners(),this.options.source&&this._setOption("source",this.options.source)},_destroy:function(){this.input.autocomplete("destroy"),this._destroyDom()},_enable:function(){this.input.autocomplete("enable")},_disable:function(){this.input.autocomplete("disable")},_initDom:function(){if(this.root=t(t('<div class="r-autocomplete"></div>').insertBefore(this.input)[0]),this.root.append(this.input.detach()),this.options.showButton){var e=this;this.root.addClass("input-group"),this.button=t('<span class="input-group-addon"><i class="icon-chevron-down"></i></span>').appendTo(this.root),this.button.click(function(){t(e.element).autocomplete("search"),setTimeout(function(){t("body").one("click",function(){setTimeout(function(){t(e.element).autocomplete("close")},0)})},0)})}return this.root},_destroyDom:function(){this.input.detach().insertAfter(this.root),this.root.remove()},_getAutocompleteOptions:function(){var t=this;return{delay:0,minLength:this.options.minLength,autoFocus:this.options.autoFocus,source:function(e,s){t._getSuggestions(e,s)},focus:function(e,s){if(!t.options.autoFill)return!1;var i=t.input,n=i.val(),o=s.item.label;return t.entered?(n=t.entered,t.entered=null):n=n.substring(0,i[0].selectionStart),n.length>0&&0===o.toLowerCase().indexOf(n.toLowerCase())?(i.val(n+o.substring(n.length)),i[0].selectionStart=n.length,i[0].selectionEnd=o.length,!1):(t.entered=n,!0)},close:function(){t.entered=null},select:function(e,s){return this.value=t._selectValue(e,s,this.value),!1}}},_splitTokens:function(t){var e=RegExp("\\s*"+this.options.token+"\\s*");return t.split(e)},_extractLastToken:function(t){return this._splitTokens(t).pop()},_extractSearchTerm:function(t){return this.options.token?this._extractLastToken(t.term):t.term},_selectValue:function(t,e,s){if(this.options.token){var i=this._splitTokens(s);return i.pop(),i.push(e.item.value),i.push(""),i.join(this.options.token+" ")}return e.item.value},_getSuggestions:function(e,s){var i=this._extractSearchTerm(e),n=t.extend({},e,{term:i});this.cache&&(n.term=this.options.extractCacheSearchPrefix.call(this,i));var o=t.proxy(function(){return this.cache&&this.cache.put(i,arguments),s.apply(window,arguments)},this);if(this.cache){var a=this.cache.get(i);if(a)return s.apply(window,a),void 0}this._retrieveSuggestions(n,o)},_retrieveSuggestions:function(e,s){var i=this.options.source;i instanceof HTMLElement?this._suggestFromDom(e,s):t.isFunction(i)?i(e,s):s(this.options.filter(i,e.term))},_suggestFromDom:function(e,s){var i=this.options.update,n=t.proxy(function(){this._updateDomSuggestions(),s(this.options.filter(this.options.suggestions,e.term))},this);t.isFunction(i)?i.length>=2?i.call(window,e,n):(i.call(window,e),n()):s(this.options.filter(this.options.suggestions,e.term))},_updateDomSuggestions:function(){var e=[],i=t(this.options.source),n=s.list;i.is("table")&&(n=s.table,i=i.children("tbody")),t(i).children("tr, li").each(function(){e.push({value:t(this).data("label")||t(this).text(),html:t(this).clone()})}),this.option("layout")!==n&&this._setOption("layout",n),this._setOption("suggestions",e)},_preventTabbing:function(){this.element.bind("keydown",function(e){e.keyCode===t.ui.keyCode.TAB&&t(this).data("autocomplete").menu.active&&e.preventDefault()})},_registerListeners:function(){this.input.bind("autocompletesearch",this.options.onsearch),this.input.bind("autocompleteopen",this.options.onopen),this.input.bind("autocompletefocus",this.options.onfocus),this.input.bind("autocompleteselect",this.options.onselect),this.input.bind("autocompleteclose",this.options.onclose),this.input.bind("autocompletechange",this.options.onchange)},_setLayout:function(e){var s=this.input.autocomplete().data("ui-autocomplete");switch(e){case this.LAYOUT.list:s._renderMenu=t.ui.autocomplete.prototype._renderMenu,s._renderItem=function(e,s){var i=s.html?t("<a>").html(s.html):t("<a>").text(s.label);return t("<li>").append(i).appendTo(e)};break;case this.LAYOUT.table:this._setOption("appendTo",t("<div class='ui-autocomplete-layout-table-wrapper'>").appendTo(t("body"))),s._renderMenu=function(e,s){return e.addClass("ui-autocomplete-layout-table"),t.ui.autocomplete.prototype._renderMenu.call(this,e,s)},s._renderItem=function(e,s){var i=t("<a>");return s.html.find("> td").each(function(){t("<span>").html(t(this).html()).appendTo(i)}),t("<li></li>").data("item.autocomplete",s).append(i).appendTo(e)}}},_setOption:function(t,e){"layout"===t&&this._setLayout(e),"disabled"===t&&(e?this._disable():this._enable()),this._super(t,e),"source"===t&&e instanceof HTMLElement&&this._updateDomSuggestions()}})})(jQuery),function(t){t.widget("rf.orderingList",{options:{disabled:!1,header:void 0,styleClass:void 0,columnClasses:void 0,headerClass:void 0,itemClass:void 0,selectedItemClass:void 0,placeholderStyleClass:void 0,helperStyleClass:void 0,dimensions:void 0,showButtons:!0,mouseOrderable:!0,widgetEventPrefix:"orderingList_",dropOnEmpty:!0,dragSelect:!1,contained:!0,firstText:void 0,upText:void 0,downText:void 0,lastText:void 0},_create:function(){var e=this;this.selectableOptions={disabled:e.options.disabled,create:function(s){e.options.itemClass&&t(s.target).find(".ui-selectee").addClass(e.options.itemClass)},selecting:function(s,i){e.options.selectedItemClass&&t(i.selecting).addClass(e.options.selectedItemClass)},unselecting:function(s,i){e.options.selectedItemClass&&t(i.unselecting).removeClass(e.options.selectedItemClass)}},this.sortableOptions={handle:this.options.dragSelect?".handle":!1,disabled:this.options.disabled,dropOnEmpty:this.options.dropOnEmpty,scroll:!0,placeholder:"placeholder "+(this.options.placeholderStyleClass||""),tolerance:"pointer",start:function(t,s){e.currentItems=s.item.parent().children(".ui-selected").not(".placeholder").not(".helper-item");var i=s.helper,n=e.element.find(".placeholder");n.css("height",i.css("height")),e.currentItems.not(s.item).hide()},sort:function(e,s){var i=t(this),n=s.helper.position().top,o=n+s.helper.outerHeight();i.children(".ui-selectee").not(".placeholder").not(".helper-item").not(".ui-selected").each(function(){var e=t(this),s=e.position().top,a=e.position().top+e.outerHeight()/2;return a>n&&o>a?(s>n?t(".placeholder",i).insertAfter(e):t(".placeholder",i).insertBefore(e),!1):void 0})},cancel:function(){e.currentItems.show()},receive:function(t,s){s.item.after(s.sender.find(".ui-selected"));var i=e._dumpState();i.originalEvent=t,e._trigger("receive",t,i)},beforeStop:function(){},stop:function(t,s){var i=e.currentItems.first();i.get(0)!==s.item.get(0)?(s.item.before(i),i.after(e.currentItems.not(i).detach())):s.item.after(e.currentItems.not(s.item).detach()),e.currentItems.not(".placeholder").show();var s=e._dumpState();s.movement="drag",e._trigger("change",t,s)}},this.element.is("table")?(this.strategy="table",this.$pluginRoot=t(this.element).find("tbody"),this.selectableOptions.filter="tr",this.sortableOptions.helper=t.proxy(this._rowHelper,this)):(this.strategy="list",this.$pluginRoot=t(this.element),this.selectableOptions.filter="li",this.sortableOptions.helper=t.proxy(this._listHelper,this)),this.options.contained!==!1&&(this.sortableOptions.containment=this.$pluginRoot,this.sortableOptions.axis="y"),this._addDomElements(),this.widgetEventPrefix=this.options.widgetEventPrefix,this.options.mouseOrderable===!0&&this.$pluginRoot.sortable(this.sortableOptions),this.$pluginRoot.selectable(this.selectableOptions),this.options.disabled===!0&&e._disable(),this._addDragListeners()},destroy:function(){return t.Widget.prototype.destroy.call(this),this._removeDomElements(),this.$pluginRoot.sortable("destroy").selectable("destroy"),this},_addDragListeners:function(){0==this.options.dragSelect?(this.element.on("mousedown",".ui-selectee",function(){var e=t(this),s=e.parents(".list").first();s.data("rfOrderingList").mouseStarted=!0}),this.$pluginRoot.on("mousemove",".ui-selectee",function(e){var s=t(this),i=s.parents(".list").first(),n=i.data("rfOrderingList");if(n.mouseStarted&&(n.mouseStarted=!1,!s.hasClass("ui-selected"))){var o=n.$pluginRoot.data("uiSelectable");o._mouseStart(e),o._mouseStop(e)}}),this.element.on("mouseup",".ui-selectee",function(e){var s=t(this),i=s.parents(".list").first(),n=i.data("rfOrderingList");if(n.mouseStarted){n.mouseStarted=!1;var o=n.$pluginRoot.data("uiSelectable");o._mouseStart(e),o._mouseStop(e)}})):this.element.find(".handle").on("mousedown",function(e){var s=t(this).parents(".ui-selectee").first();if(!s.hasClass("ui-selected")){var i=s.parents(".list").first(),n=i.data("rfOrderingList").$pluginRoot.data("uiSelectable");n._mouseStart(e),n._mouseStop(e)}})},_removeDragListeners:function(){0==this.options.dragSelect?(this.element.off("mousedown",".ui-selectee"),this.element.off("mousemove",".ui-selectee"),this.element.off("mouseup",".ui-selectee")):this.element.find(".handle").off("mousedown")},_listHelper:function(e,s){var i=t("<ol />").addClass("helper "+(this.options.helperStyleClass||"")).css("height","auto").css("width",this.element.css("width"));return s.parent().children(".ui-selected").not(".ui-sortable-placeholder").clone().addClass("helper-item").show().appendTo(i),i},_rowHelper:function(e,s){var i=t("<div />").addClass("helper "+this.options.helperStyleClass).css("height","auto");s.parent().children(".ui-selected").not(".ui-sortable-placeholder").clone().addClass("helper-item").show().appendTo(i);var n=i.children("tr").first();return n.children().each(function(e){var i=s.children().get(e),n=t(i).css("width");t(this).css("width",n)}),i},_setOption:function(e,s){var i=this;if(this.options.key!==s){switch(e){case"disabled":s===!0?i._disable():i._enable()}t.Widget.prototype._setOption.apply(i,arguments)}},connectWith:function(t){var e=t.data("rfOrderingList");this.$pluginRoot.sortable("option","connectWith",e.$pluginRoot)},isSelected:function(e){return t(e).hasClass("ui-selected")},selectItem:function(e){t(e).addClass("ui-selected "+this.options.selectedItemClass)},unSelectItem:function(e){t(e).removeClass("ui-selected "+this.options.selectedItemClass)},unSelectAll:function(){var t=this;this._removeDomElements(),this.element.children().each(function(){t.unSelectItem(this)})},moveTop:function(e,s){if(!this.options.disabled){var i=e.prevAll().not(".ui-selected").last();t(e).insertBefore(i);var n=this._dumpState();n.movement="moveTop",this._trigger("change",s,n)}},moveUp:function(e,s){if(!this.options.disabled){t(e).each(function(){var e=t(this),s=e.prevAll().not(".ui-selected").first();s.length>0&&e.insertBefore(s)});var i=this._dumpState();i.movement="moveUp",this._trigger("change",s,i)}},moveDown:function(e,s){if(!this.options.disabled){t(e).sort(function(){return 1}).each(function(){var e=t(this),s=e.nextAll().not(".ui-selected").first();s.length>0&&e.insertAfter(s)});var i=this._dumpState();i.movement="moveDown",this._trigger("change",s,i)}},moveLast:function(e,s){if(!this.options.disabled){var i=e.nextAll().not(".ui-selected").last();t(e).insertAfter(i);var n=this._dumpState();n.movement="moveLast",this._trigger("change",s,n)}},getOrderedElements:function(){return this.element.find(".ui-selectee")},getOrderedKeys:function(){var e=[];return this.getOrderedElements().each(function(){var s=t(this),i=s.data("key"),n=i?i:s.text();e.push(n)}),e},_addDomElements:function(){if(this._addParents(),this._addMouseHandles(),this.options.showButtons===!0&&this._addButtons(),"table"===this.strategy){var e=this;t(this.element).find("tr").each(function(){var s=t(this),i=s.children();if(i.last().addClass("last"),i.first().addClass("first"),e.options.columnClasses){var n=e.options.columnClasses.split(" ");i.each(function(e){return n.length>e?(t(this).addClass(n[e]),void 0):!1})}})}},_addButtons:function(){var e=t("<div/>").addClass("btn-group-vertical");this._addButton(e,"first","icon-arrow-up",this.options.firstText,t.proxy(this._firstHandler,this)),this._addButton(e,"up","icon-arrow-up",this.options.upText,t.proxy(this._upHandler,this)),this._addButton(e,"down","icon-arrow-down",this.options.downText,t.proxy(this._downHandler,this)),this._addButton(e,"last","icon-arrow-down",this.options.lastText,t.proxy(this._lastHandler,this)),this.content.append(t("<div />").addClass("buttonColumn").append(e))},_addButton:function(e,s,i,n,o){var a=t("<button/>").attr("type","button").addClass("btn btn-default").append(t("<i />").addClass(i)).bind("click.orderingList",o).addClass(s);n&&a.addClass("labeled").append(t("<span />").text(n)),e.append(a)},_addMouseHandles:function(){this.options.mouseOrderable===!0&&this.options.dragSelect===!0&&(this.content.addClass("with-handle"),"table"===this.strategy?(t(this.element).find("tbody > tr").prepend("<th class='handle'><i class='icon-move'></i></th>"),t(this.element).find("thead > tr").prepend("<th class='handle'></th>")):"list"===this.strategy&&t(this.element).find("li").prepend("<div class='handle'><i class='icon-move'></i></div>"))},_addParents:function(){if(this.element.addClass("list").wrap(t("<div />").addClass("ordering-list select-list").append(t("<div />").addClass("content").append(t("<div />").addClass("listBox")))),this.selectList=this.element.parents(".select-list").first(),this.options.styleClass&&this.selectList.addClass(this.options.styleClass),this.options.header){var e=t("<div />").addClass("header");this.options.headerClass&&e.addClass(this.options.headerClass),e.append(t("<div>").html(this.options.header)).addClass("header").addClass(this.options.headerClass),this.selectList.prepend(e)}this.content=this.selectList.find(".content"),this.options.dimensions&&this.element.css(this.options.dimensions)},_disable:function(){this.$pluginRoot.sortable("option","disabled",!0).selectable("option","disabled",!0),this.element.addClass("disabled").find(".ui-selected").removeClass("ui-selected"),this.element.find(".ui-selectee").removeClass("ui-selectee").addClass("ui-disabled"),t(".buttonColumn",this.content).find("button").attr("disabled",!0),this._removeDragListeners()},_enable:function(){this.$pluginRoot.sortable("option","disabled",!1).selectable("option","disabled",!1),this.element.removeClass("disabled"),this.element.find(".ui-disabled").removeClass("ui-disabled").addClass("ui-selectee"),t(".buttonColumn",this.content).find("button").attr("disabled",!1),this._addDragListeners()},_dumpState:function(){var t={};return t.orderedElements=this.getOrderedElements(),t.orderedKeys=this.getOrderedKeys(),t},_removeDomElements:function(){if("table"===this.strategy){var e=this;t(this.element).find("tr").each(function(){var s=t(this),i=s.children();if(i.last().removeClass("last"),i.first().removeClass("first"),e.options.columnClasses){var n=e.options.columnClasses.split(" ");i.each(function(e){return n.length>e?(t(this).removeClass(n[e]),void 0):!1})}})}var s=this.element.detach();this.selectList.replaceWith(s),this.options.dragSelect===!0&&(this.content.removeClass("with-handle"),t(this.element).find(".handle").remove())},_firstHandler:function(e){this.moveTop(t(".ui-selected",this.element),e)},_upHandler:function(e){this.moveUp(t(".ui-selected",this.element),e)},_downHandler:function(e){this.moveDown(t(".ui-selected",this.element),e)},_lastHandler:function(e){this.moveLast(t(".ui-selected",this.element),e)}})}(jQuery),function(t){t.widget("rf.pickList",{options:{disabled:!1,header:""},_create:function(){this.widgetEventPrefix="picklist_",this.sourceList=this.element.find(".source"),this.targetList=this.element.find(".target"),this._addDomElements(),this.sourceList.orderingList({showButtons:!1,contained:!1,widgetEventPrefix:"sourceList_"}),this.targetList.orderingList({contained:!1,widgetEventPrefix:"targetList_"}),this.sourceList.orderingList("connectWith",this.targetList),this.targetList.orderingList("connectWith",this.sourceList),this._registerListeners()},destroy:function(){return t.Widget.prototype.destroy.call(this),this._removeDomElements(),this.sourceList.orderingList("destroy"),this.targetList.orderingList("destroy"),this},moveLeft:function(t,e){if(!this.options.disabled){t.detach(),this.sourceList.prepend(t);var s=this._dumpState();s.change="remove",this._trigger("change",e,s)}},moveRight:function(t,e){if(!this.options.disabled){t.detach(),this.targetList.prepend(t);var s=this._dumpState();s.change="add",this._trigger("change",e,s)}},_addDomElements:function(){this._addParents();var e=t("<div />").addClass("middle buttonColumn col col-12 col-sm-1");e.append(this._buttonStack()),this.sourceList.parent().after(e)},_buttonStack:function(){var e=t('<button type="button" class="btn btn-default"/>'),s=t("<div/>").addClass("btn-group-picklist row");return s.append(e.clone().addClass("btn-left-all col col-3 col-sm-12").html('<span class="visible-sm"><i class="icon-arrow-up"></i></span><span class="hidden-sm"><i class="icon-arrow-left"></i></span>').bind("click.orderingList",t.proxy(this._leftAllHandler,this))).append(e.clone().addClass("btn-left col col-3 col-sm-12").html('<span class="visible-sm"><i class="icon-arrow-up"></i></span><span class="hidden-sm"><i class="icon-arrow-left"></i></span>').bind("click.orderingList",t.proxy(this._leftHandler,this))).append(e.clone().addClass("btn-right col col-3 col-sm-12").html('<span class="visible-sm"><i class="icon-arrow-down"></i></span><span class="hidden-sm"><i class="icon-arrow-right"></i></span>').bind("click.orderingList",t.proxy(this._rightHandler,this))).append(e.clone().addClass("btn-right-all col col-3 col-sm-12").html('<span class="visible-sm"><i class="icon-arrow-down"></i></span><span class="hidden-sm"><i class="icon-arrow-right"></i></span>').bind("click.orderingList",t.proxy(this._rightAllHandler,this))),s},_addParents:function(){this.element.addClass("row").wrap(t("<div />").addClass("pick-list outer")),this.outer=this.element.parents(".outer").first(),this.options.header&&this.outer.prepend(t("<div />").addClass("row").append(t("<div />").addClass("col-12 header").append(t("<h3/>").html(this.options.header)))),this.sourceList.wrap(t("<div />").addClass("left col col-12 col-sm-5")),this.targetList.wrap(t("<div />").addClass("right col col-12 col-sm-6")),this.content=this.element},_registerListeners:function(){var t=this;this.sourceList.bind("sourcelist_receive",function(e){var s=t._dumpState();s.change="remove",s.originalEvent=e,t._trigger("change",e,s)}),this.targetList.bind("targetlist_receive",function(e){var s=t._dumpState();s.change="add",s.originalEvent=e,t._trigger("change",e,s)}),this.targetList.bind("targetlist_change",function(e){var s=t._dumpState();s.change="sort",s.originalEvent=e,t._trigger("change",e,s)}),this.options.onchange&&"function"==typeof this.options.onchange&&this.component.bind("change.pickList.bootstrap.RICH",this.options.onchange)},_dumpState:function(){var t={};return t.pickedElements=this.targetList.orderingList("getOrderedElements"),t.pickedKeys=this.targetList.orderingList("getOrderedKeys"),t},_removeDomElements:function(){var t=this.element.detach();this.outer.replaceWith(t),this.element.removeClass("row"),this.sourceList.parents(".left").first().replaceWith(this.sourceList.detach()),this.targetList.parents(".right").first().replaceWith(this.targetList.detach())},_leftAllHandler:function(e){var s=t(".ui-selectee",this.targetList);this.moveLeft(s,e),this.sourceList.orderingList("selectItem",s)},_leftHandler:function(e){this.moveLeft(t(".ui-selected",this.targetList),e)},_rightHandler:function(e){this.moveRight(t(".ui-selected",this.sourceList),e)},_rightAllHandler:function(e){var s=t(".ui-selectee",this.sourceList);this.moveRight(s,e),this.targetList.orderingList("selectItem",s)}})}(jQuery);